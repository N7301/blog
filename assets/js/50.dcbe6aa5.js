(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{385:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-网络配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-网络配置"}},[s._v("#")]),s._v(" 1. 网络配置")]),s._v(" "),t("h3",{attrs:{id:"_1-1-linux-网络配置原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-linux-网络配置原理"}},[s._v("#")]),s._v(" 1.1 Linux 网络配置原理")]),s._v(" "),t("p",[s._v("假设我们的物理主机在一个教室的局域网内：")]),s._v(" "),t("img",{staticStyle:{zoom:"72%"},attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220802221846625.png",alt:"image-20220802221846625"}}),s._v(" "),t("ul",[t("li",[s._v("Linux 虚拟机和 vmnet8 在一个子网内形成一个网络，可以互通（ping 通）")]),s._v(" "),t("li",[s._v("本机电脑的无线网卡与教室局域网的网关互通，vmnet8 又和无线网卡互通")]),s._v(" "),t("li",[s._v("老韩讲错了？vmnet8 不是虚拟机的网关，只是用来虚拟机和实体机通讯的，把 vmnet8 禁用了虚拟机也可以连接互联网。")])]),s._v(" "),t("h3",{attrs:{id:"_1-2-查看网络-ip-和网关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-查看网络-ip-和网关"}},[s._v("#")]),s._v(" 1.2 查看网络 IP 和网关")]),s._v(" "),t("h4",{attrs:{id:"_1-2-1-查看虚拟机-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-查看虚拟机-ip"}},[s._v("#")]),s._v(" 1.2.1 查看虚拟机 IP")]),s._v(" "),t("p",[s._v("在 Linux 中的 "),t("code",[s._v("ifconfig")]),s._v(" 可以看到本机的 IP：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v("\nens33: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("416")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,RUNNING,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n        inet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".220.134  netmask "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".220.255\n        inet6 fe80::c84d:947f:c9c3:2aa3  prefixlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  scopeid 0x2"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("link"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        ether 00:0c:29:f9:c5:14  txqueuelen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX packets "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("142")]),s._v("  bytes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14858")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.5")]),s._v(" KiB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX errors "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  dropped "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  overruns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  frame "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        TX packets "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("130")]),s._v("  bytes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17101")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.7")]),s._v(" KiB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        TX errors "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  dropped "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" overruns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  carrier "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  collisions "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("可以看到 Linux 虚拟机的 IP 为 192.168.220.134。")]),s._v(" "),t("h4",{attrs:{id:"_1-2-2-查看网络编辑器和网关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-查看网络编辑器和网关"}},[s._v("#")]),s._v(" 1.2.2 查看网络编辑器和网关")]),s._v(" "),t("p",[s._v("在 VMware 的"),t("strong",[s._v("虚拟网络编辑器")]),s._v("中，可以看到 NAT 连接方式下本机的子网 IP：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220214171502174.png",alt:"image-20220214171502174"}})]),s._v(" "),t("p",[s._v("然后在点击 "),t("code",[s._v("NAT 设置")]),s._v(" 可以看到网关：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220214171709983.png",alt:"image-20220214171709983"}})]),s._v(" "),t("h4",{attrs:{id:"_1-2-3-查看-windows-环境中的-vmnet8-网络配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-查看-windows-环境中的-vmnet8-网络配置"}},[s._v("#")]),s._v(" 1.2.3 查看 Windows 环境中的 VMnet8 网络配置")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("ipconfig")]),s._v(" 命令：")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("> ipconfig\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n以太网适配器 VMware Network Adapter VMnet8:\n\n   连接特定的 DNS 后缀 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" :\n   本地链接 IPv6 地址"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" : fe80::c823:6a37:c475:ed49%24\n   IPv4 地址 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" : 192"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("168"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("220"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("1\n   子网掩码  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" : 255"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("255"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("255"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0\n   默认网关"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" :\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_1-3-ping-测试连通性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-ping-测试连通性"}},[s._v("#")]),s._v(" 1.3 ping 测试连通性")]),s._v(" "),t("p",[t("code",[s._v("ping 目的主机")]),s._v("：测试当前服务器是否可以连接目的主机")]),s._v(" "),t("blockquote",[t("p",[s._v("测试是否可以连接百度："),t("code",[s._v("ping www.baidu.com")])])]),s._v(" "),t("h3",{attrs:{id:"_1-4-linux-网络环境配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-linux-网络环境配置"}},[s._v("#")]),s._v(" 1.4 Linux 网络环境配置")]),s._v(" "),t("h4",{attrs:{id:"_1-4-1-第一种方法-自动获取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-第一种方法-自动获取"}},[s._v("#")]),s._v(" 1.4.1 第一种方法：自动获取")]),s._v(" "),t("p",[s._v("登录后，通过界面来设置自动获取 IP。特点：Linux 启动后会自动获取 IP，但"),t("strong",[s._v("每次自动获取的 IP 地址可能不一样")]),s._v("。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220214174016538.png",alt:"image-20220214174016538"}})]),s._v(" "),t("h4",{attrs:{id:"_1-4-2-第二种方法-指定-ip-⭐️"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-第二种方法-指定-ip-⭐️"}},[s._v("#")]),s._v(" 1.4.2 第二种方法：指定 IP ⭐️")]),s._v(" "),t("p",[s._v("直接修改配置文件来指定 IP，并可以连接到外网（程序员推荐）。")]),s._v(" "),t("p",[s._v("配置文件根据网卡不同名字有所区别，但文件路径一致：/etc/sysconfig/network-scripts/，常见的配置文件名有 ifcfg-eth0 或者 ifcfg-ens33，可以通过 ifconfig 查看后缀。")]),s._v(" "),t("p",[s._v("以 ifcfg-ens33 为例，使用 vim 修改此文件 "),t("code",[s._v("vim /etc/sysconfig/network-scripts/ifcfg-ens33")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-diff line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[s._v('YPE="Ethernet"\nPROXY_METHOD="none"\nBROWSER_ONLY="no"\n'),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' BOOTPROTO="dhcp"\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' BOOTPROTO="static"\n')])]),s._v('DEFROUTE="yes"\nIPV4_FAILURE_FATAL="no"\nIPV6INIT="yes"\nIPV6_AUTOCONF="yes"\nIPV6_DEFROUTE="yes"\nIPV6_FAILURE_FATAL="no"\nIPV6_ADDR_GEN_MODE="stable-privacy"\nNAME="ens33"\nUUID="1af88ac9-573c-49da-993c-9ab4e6c73159"\nDEVICE="ens33"\nONBOOT="yes"\n'),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" IPADDR=192.168.200.130 # 本机 IP 地址\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" NETMASK=255.255.255.0 # 子网掩码\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" GATEWAY=192.168.200.2 # 默认网关\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" DNS1=192.168.200.2 # 域名解析器\n")])])])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("修改好后并保存。然后进入 VMware 的虚拟网络编辑器，将 NAT 配置中的子网 IP 改为 "),t("code",[s._v("192.168.200.0")]),s._v("，将网关 IP 改为 "),t("code",[s._v("192.168.200.2")]),s._v("。修改位置可见本文的 1.2.2 节所示。")]),s._v(" "),t("p",[s._v("完成以上操作后，重启网络服务或重启系统生效：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service network restart、reboot\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("以上这些操作就是将本文 1.1 节图中的 Linux 虚拟机和 vmnet8 的地址分别改成了 "),t("code",[s._v("192.168.200.130")]),s._v(" 和 "),t("code",[s._v("192.168.200.1")]),s._v("。这时在虚拟机中使用 "),t("code",[s._v("ifconfig")]),s._v(" 命令可以看到：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v("\nens33: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("416")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,RUNNING,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n        inet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".200.130  netmask "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".200.255\n        inet6 fe80::c84d:947f:c9c3:2aa3  prefixlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  scopeid 0x2"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("link"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        ether 00:0c:29:f9:c5:14  txqueuelen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX packets "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("792")]),s._v("  bytes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("825124")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("805.7")]),s._v(" KiB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX errors "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  dropped "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  overruns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  frame "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        TX packets "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("456")]),s._v("  bytes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33428")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32.6")]),s._v(" KiB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        TX errors "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  dropped "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" overruns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  carrier "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  collisions "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ul",[t("li",[s._v("本机 IP 已经成功改为了 192.168.200.130。")])]),s._v(" "),t("h3",{attrs:{id:"_1-5-设置主机名和-hosts-映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-设置主机名和-hosts-映射"}},[s._v("#")]),s._v(" 1.5 设置主机名和 hosts 映射")]),s._v(" "),t("h4",{attrs:{id:"_1-5-1-设置主机名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-设置主机名"}},[s._v("#")]),s._v(" 1.5.1 设置主机名")]),s._v(" "),t("p",[s._v("为了方便记忆，可以"),t("strong",[s._v("给 Linux 系统设置主机名")]),s._v("，也可以根据需要修改主机名。")]),s._v(" "),t("p",[s._v("指令 "),t("code",[s._v("hostname")]),s._v("：查看主机名")]),s._v(" "),t("p",[s._v("修改文件在 /etc/hostname 指定。修改后重启生效。")]),s._v(" "),t("h4",{attrs:{id:"_1-5-2-设置-hosts-映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-设置-hosts-映射"}},[s._v("#")]),s._v(" 1.5.2 设置 hosts 映射")]),s._v(" "),t("p",[s._v("思考：如何通过主机名能够找到（比如 ping）某个 Linux 系统？")]),s._v(" "),t("p",[t("strong",[s._v("Hosts")]),s._v("：一个记录 IP 和 hostname 之间映射关系的文本文件。")]),s._v(" "),t("p",[s._v("✏️ Windows 中，在 "),t("code",[s._v("C:\\Windows\\System32\\drivers\\etc\\hosts")]),s._v(" 文件指定即可。")]),s._v(" "),t("blockquote",[t("p",[s._v("案例："),t("code",[s._v("192.168.200.130 hspEdu100")])]),s._v(" "),t("ul",[t("li",[s._v("前半部分是 IP 地址，后半部分是其对应的主机名")])]),s._v(" "),t("p",[s._v("PS：还有一个常见的案例是 "),t("code",[s._v("127.0.0.1 localhost")])])]),s._v(" "),t("p",[s._v("✏️ Linux 中，在 "),t("code",[s._v("/etc/hosts")]),s._v(" 文件指定即可。")]),s._v(" "),t("blockquote",[t("p",[s._v("案例："),t("code",[s._v("192.168.200.1 ThinkPad-PC")])])]),s._v(" "),t("h3",{attrs:{id:"_1-6-应用实例-浏览器解析-www-baidu-com-的过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-应用实例-浏览器解析-www-baidu-com-的过程"}},[s._v("#")]),s._v(" 1.6 应用实例：浏览器解析 "),t("code",[s._v("www.baidu.com")]),s._v(" 的过程")]),s._v(" "),t("ol",[t("li",[s._v("浏览器"),t("strong",[s._v("先检查浏览器中有没有该域名解析 IP")]),s._v("，有就先调用这个 IP 完成解析。如果没有，就"),t("strong",[s._v("再检查 DNS 解析器缓存")]),s._v("，如果有就直接返回 IP 完成解析。这两个缓存可以理解为"),t("strong",[s._v("本地解析器缓存")]),s._v("。")]),s._v(" "),t("li",[s._v("一般来说，当电脑第一次成功访问某一个网站后，在一定时间内浏览器或 OS 会缓存它的 DNS 解析记录。")])]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ipconfig /displaydns  // 查看 DNS 域名解析缓存\nipconfig /flushdns    // 手动清理 DNS 缓存\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ol",[t("li",[s._v("如果本地解析器缓存没有找到对应的映射，就"),t("strong",[s._v("检查系统中 hosts 文件")]),s._v("中有没有对应的域名 IP 映射，有则完成解析并返回。")]),s._v(" "),t("li",[s._v("如果本地 DNS 解析器缓存和 hosts 文件都没能解析出对应的 IP，则到域名服务 DNS 进行解析域。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220810144924476.png",alt:"image-20220810144924476"}})]),s._v(" "),t("h2",{attrs:{id:"_2-进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-进程管理"}},[s._v("#")]),s._v(" 2. 进程管理⭐️")]),s._v(" "),t("h3",{attrs:{id:"_2-1-基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-基本介绍"}},[s._v("#")]),s._v(" 2.1 基本介绍")]),s._v(" "),t("p",[s._v("在 Linux 中，每个执行的程序（代码）都称为一个进程。每一个进程都分配一个 ID 号，即进程号，PID。")]),s._v(" "),t("blockquote",[t("p",[s._v("程序和进程：程序==代码，是静态概念；进程是运行起来的占用内存的程序。")])]),s._v(" "),t("p",[s._v("每个进程都可能以两种方式存在的：前台与后台。所谓"),t("strong",[s._v("前台进程")]),s._v("就是用户目前的屏幕上可以进行操作的。"),t("strong",[s._v("后台进程")]),s._v("则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。")]),s._v(" "),t("p",[t("strong",[s._v("一般系统的服务都是以后台进程的方式存在")]),s._v("，而且都会常驻在系统中，直到关机才才结束。")]),s._v(" "),t("h3",{attrs:{id:"_2-2-ps-显示系统执行的进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ps-显示系统执行的进程"}},[s._v("#")]),s._v(" 2.2 ps 显示系统执行的进程")]),s._v(" "),t("h4",{attrs:{id:"_2-2-1-ps-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-ps-命令"}},[s._v("#")]),s._v(" 2.2.1 ps 命令")]),s._v(" "),t("p",[t("code",[s._v("ps")]),s._v(" 命令是 Process Status 的缩写，用来列出系统中"),t("strong",[s._v("当前正在运行")]),s._v("的那些进程，就是执行 ps 命令的那个时刻的那些进程的"),t("strong",[s._v("快照")]),s._v("。")]),s._v(" "),t("blockquote",[t("p",[s._v("ps 查看的结果不是动态连续的，如果想要动态的显示进程信息，就可以使用 top、htop 命令。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n   PID TTY          TIME CMD\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2149")]),s._v(" pts/0    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2228")]),s._v(" pts/0    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("ps 显示的信息字段：\n"),t("ul",[t("li",[s._v("PID：进程识别号")]),s._v(" "),t("li",[t("strong",[s._v("TTY")]),s._v("：终端机号")]),s._v(" "),t("li",[s._v("TIME：进程使用 CPU 的总时间")]),s._v(" "),t("li",[s._v("CMD：正在执行的命令或进程名")])])]),s._v(" "),t("li",[s._v("常用选项：\n"),t("ul",[t("li",[s._v("-a：显示当前终端的所有进程信息")]),s._v(" "),t("li",[s._v("-u：以用户的格式显示进程信息")]),s._v(" "),t("li",[s._v("-x：显示后台进程运行的参数")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("常见情况下是 "),t("code",[s._v("ps -aux | more")]),s._v(" 三个选项一块用，并分页查看")])]),s._v(" "),t("h4",{attrs:{id:"_2-2-2-ps-详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-ps-详解"}},[s._v("#")]),s._v(" 2.2.2 ps 详解")]),s._v(" "),t("p",[s._v("输入 "),t("code",[s._v("ps -aux|more")]),s._v(" 后可以看到：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220215124549030.png",alt:"image-20220215124549030"}})]),s._v(" "),t("ul",[t("li",[s._v("USER：用户名称")]),s._v(" "),t("li",[s._v("%CPU：进程占用 CPU 百分比")]),s._v(" "),t("li",[s._v("%MEM：进程占用物理内存的百分比")]),s._v(" "),t("li",[s._v("VSZ：进程占用的虚拟内存大小（单位 KB）")]),s._v(" "),t("li",[s._v("RSS：进程占用的物理内存大小（单位 KB）")]),s._v(" "),t("li",[s._v("TTY：终端名称，缩写")]),s._v(" "),t("li",[s._v("STAT：进程状态。S 睡眠，s 表示该进程是会话的先导进程，N 表示该进程拥有比普通优先级更低的优先级，R 正在运行，D 短期等待，Z 僵死进程，T 被跟踪或被停止等")]),s._v(" "),t("li",[s._v("START：进程的启动时间")]),s._v(" "),t("li",[s._v("TIME：进程使用 CPU 的总时间")]),s._v(" "),t("li",[s._v("COMMAND：启动进程所用的命令和参数，如果过长会被截断显示")])]),s._v(" "),t("p",[s._v("但是直接 ps 会显示太多的进程了，"),t("strong",[s._v("如果想看有没有某个进程，可以用 "),t("code",[s._v("ps -aux|grep xxx")])]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"_2-2-3-应用实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-应用实例"}},[s._v("#")]),s._v(" 2.2.3 应用实例")]),s._v(" "),t("p",[s._v("要求：以全格式显示当前所有的进程，查看进程的父进程")]),s._v(" "),t("p",[t("code",[s._v("ps -ef")]),s._v("：以全格式查看系统上的运行的所有进程 【常用】")]),s._v(" "),t("ul",[t("li",[s._v("-e：显示运行在系统上的所有进程")]),s._v(" "),t("li",[s._v("-f：全格式，即扩展显示输出")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220215130330330.png",alt:"image-20220215130330330"}})]),s._v(" "),t("ul",[t("li",[s._v("C 字段是 CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算，执行的优先级会降低；数值越小，表明进程是 IO 密集型运算，执行优先级会提高。")]),s._v(" "),t("li",[t("strong",[s._v("PPID：父进程的 PID")])])]),s._v(" "),t("h3",{attrs:{id:"_2-3-kill-和-killall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-kill-和-killall"}},[s._v("#")]),s._v(" 2.3 kill 和 killall")]),s._v(" "),t("blockquote",[t("p",[s._v("这部分在 CSAPP 中有讲解")])]),s._v(" "),t("p",[s._v("kill 命令会向操作系统内核"),t("strong",[s._v("发送一个信号")]),s._v("（多是终止信号）和目标进程的 PID，然后系统内核根据收到的信号类型，对指定进程进行相应的操作。"),t("strong",[s._v("预设的信息为 SIGTERM(15)，可将指定程序终止")]),s._v("。")]),s._v(" "),t("p",[s._v("这里只讲用 kill 命令终止进程：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("kill [选项] 进程号")]),s._v("：终止进程")]),s._v(" "),t("li",[t("code",[s._v("killall 进程名称")]),s._v("：通过进程名称杀死进程（及其子进程），也"),t("strong",[s._v("支持通配符")]),s._v("，这在系统因负载过大而变得很慢时很有用。此命令会把对应进程的所有子进程都杀掉。")])]),s._v(" "),t("p",[s._v("常用选项：")]),s._v(" "),t("ul",[t("li",[s._v("-9：表示强迫进程立即终止")])]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-1-踢掉某个非法用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-1-踢掉某个非法用户"}},[s._v("#")]),s._v(" 🖊 案例 1：踢掉某个非法用户")]),s._v(" "),t("p",[s._v("我们先让用户 fox 登录，然后 root 下输入 "),t("code",[s._v("ps -aux | grep sshd")]),s._v("，可以看到：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-aux")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" sshd\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1462")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("112984")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4324")]),s._v(" ?        Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/sshd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2140")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("161072")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5584")]),s._v(" ?        Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: yubin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("priv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nyubin      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2148")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("161072")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2556")]),s._v(" ?        S    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: yubin@pts/0\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2900")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("161080")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5584")]),s._v(" ?        Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":22   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: fox "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("priv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nfox        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2907")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("161080")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2560")]),s._v(" ?        S    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":22   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: fox@pts/1\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3006")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("112828")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("984")]),s._v(" pts/0    S+   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":23   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto sshd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("可以看到 fox 登录的时候，是通过进程 2900 登录的，于是我们 "),t("code",[s._v("kill 2900")]),s._v(" 后可以看到 fox 用户被踢掉。")]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-2-终止远程登录服务-sshd-并在适当时候再次重启-sshd-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-2-终止远程登录服务-sshd-并在适当时候再次重启-sshd-服务"}},[s._v("#")]),s._v(" 🖊 案例 2：终止远程登录服务 sshd，并在适当时候再次重启 sshd 服务")]),s._v(" "),t("p",[s._v("类似于案例1，在案例 1 的输出中可以看到，sshd 服务（"),t("code",[s._v("/usr/sbin/sshd -D")]),s._v(" 启动的进程）的进程号是 1462，所以 "),t("code",[s._v("kill 1462")]),s._v(" 即可终止 sshd 服务。终止后会发现别的用户无法再远程登录。")]),s._v(" "),t("p",[s._v("终止 sshd 后，通过 "),t("code",[s._v("/bin/systemctl start sshd.service")]),s._v(" 即可重启该服务。")]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-3-终止多个-gedit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-3-终止多个-gedit"}},[s._v("#")]),s._v(" 🖊 案例 3：终止多个 gedit")]),s._v(" "),t("p",[s._v("先在图形化界面下用 gedit 打开多个文本编辑页面，然后 "),t("code",[s._v("killall gedit")]),s._v(" 即可一次性关闭全部。")]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-4-强制杀掉一个终端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-4-强制杀掉一个终端"}},[s._v("#")]),s._v(" 🖊 案例 4：强制杀掉一个终端")]),s._v(" "),t("p",[s._v("先开一个 bash 终端，然后 "),t("code",[s._v("ps -aux|grep bash")]),s._v(" 即可看到所有的 bash 进程，找到要杀死的 bash 进程号 xxxx，然后使用 "),t("code",[s._v("kill -9 bash对应的进程号")]),s._v(" 即可杀死。")]),s._v(" "),t("ul",[t("li",[s._v("加上 -9 选项是因为如果不加的话，系统会认为由于要被 kill 的 bash 正在工作，而认为你的 kill 是一个误操作，从而置之不理，只有加了 -9 才会强制杀掉。")])]),s._v(" "),t("h3",{attrs:{id:"_2-4-pstree-查看进程树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-pstree-查看进程树"}},[s._v("#")]),s._v(" 2.4 pstree 查看进程树")]),s._v(" "),t("p",[t("code",[s._v("pstree [选项]")]),s._v("：可以更加直观的来看进程信息。")]),s._v(" "),t("ul",[t("li",[s._v("-p：显示进程的 PID")]),s._v(" "),t("li",[s._v("-u：显示进程的所属用户")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：")]),s._v(" "),t("ul",[t("li",[s._v("pstree -p：树状的形式显示进程的 PID。")]),s._v(" "),t("li",[s._v("pstree -u：树状的形式显示进程的用户")])])]),s._v(" "),t("h3",{attrs:{id:"_2-5-服务-service-管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-服务-service-管理"}},[s._v("#")]),s._v(" 2.5 服务（service）管理")]),s._v(" "),t("p",[t("strong",[s._v("服务")]),s._v("本质就是进程，但是是"),t("strong",[s._v("运行在后台")]),s._v("的，通常都会监听某个端口，等待其它程序的请求，比如(mysql、sshd、防火墙等)，因此我们又称为"),t("strong",[s._v("守护进程")]),s._v("。")]),s._v(" "),t("p",[s._v("请求某个端口时，本质是请求监听该端口的守护进程。比如，mysqld 服务常监听 3306 端口，SSHD 服务常监听 22 端口。")]),s._v(" "),t("h4",{attrs:{id:"_2-5-1-service-管理指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-service-管理指令"}},[s._v("#")]),s._v(" 2.5.1 service 管理指令")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service 服务名 [start | stop | restart | reload | status]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("在 CentOS 7.0 后 不再使用 service ,而是 "),t("strong",[s._v("systemctl")]),s._v("（后面专门介绍）")]),s._v(" "),t("li",[s._v("service 指令管理的服务在 /etc/init.d 查看，即 ls -l /etc/init.d 命令。")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：")]),s._v(" "),t("ul",[t("li",[s._v("查看网络："),t("code",[s._v("service network status")])]),s._v(" "),t("li",[s._v("关闭网络："),t("code",[s._v("service network stop")])]),s._v(" "),t("li",[s._v("启动网络："),t("code",[s._v("service network start")])])])]),s._v(" "),t("h4",{attrs:{id:"_2-5-2-查看服务名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-查看服务名"}},[s._v("#")]),s._v(" 2.5.2 查看服务名")]),s._v(" "),t("p",[s._v("✏️ 方式一：执行命令 "),t("code",[s._v("setup")]),s._v(" -> "),t("code",[s._v("系统服务")]),s._v(" 就可以看到全部：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220215154611493.png",alt:"image-20220215154611493"}})]),s._v(" "),t("ul",[t("li",[s._v("带星号的是开机自启动的服务")]),s._v(" "),t("li",[s._v("可以通过命令 "),t("code",[s._v("sevice")]),s._v(" 或 "),t("code",[s._v("systemctl")]),s._v(" 启动。")])]),s._v(" "),t("p",[s._v("✏️ 方式二：运行 ls -l /etc/init.d 查看 "),t("code",[s._v("service")]),s._v(" 指令管理的服务。")]),s._v(" "),t("h4",{attrs:{id:"_2-5-3-服务的运行级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-服务的运行级别"}},[s._v("#")]),s._v(" 2.5.3 服务的运行级别")]),s._v(" "),t("p",[s._v("Linux 系统有7种运行级别（"),t("strong",[s._v("runlevel")]),s._v("）："),t("strong",[s._v("常用的是级别 3 和 5")]),s._v("。")]),s._v(" "),t("ul",[t("li",[s._v("运行级别 0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动。")]),s._v(" "),t("li",[s._v("运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆。")]),s._v(" "),t("li",[s._v("运行级别 2：多用户状态(没有 NFS)，不支持网络。")]),s._v(" "),t("li",[s._v("🔺"),t("strong",[s._v("运行级别 3")]),s._v("：完全的多用户状态(有 NFS)，"),t("strong",[s._v("无界面")]),s._v("，登陆后进入控制台命令行模式。【工作常用】")]),s._v(" "),t("li",[s._v("运行级别 4：系统未使用，保留。")]),s._v(" "),t("li",[t("strong",[s._v("运行级别 5")]),s._v("：X11 控制台，登陆后进入"),t("strong",[s._v("图形 GUI 模式")])]),s._v(" "),t("li",[s._v("运行级别 6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动。")])]),s._v(" "),t("p",[t("strong",[s._v("开机的流程说明")]),s._v("：开机 -> BIOS -> /boot -> systemd 进程 1（所有进程的老祖宗）-> 确定运行级别 -> 启动运行级对应的服务")]),s._v(" "),t("h4",{attrs:{id:"_2-5-4-centos-7-后运行级别说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-4-centos-7-后运行级别说明"}},[s._v("#")]),s._v(" 2.5.4 CentOS 7 后运行级别说明")]),s._v(" "),t("p",[s._v("在 /etc/initab 进行了简化，"),t("strong",[s._v("multi-user.target")]),s._v(" 等同于运行级别 3，"),t("strong",[s._v("graphical.target")]),s._v(" 等同于运行级别 5。")]),s._v(" "),t("ul",[t("li",[s._v("命令 "),t("code",[s._v("systemctl get-default")]),s._v("：获取当前的运行级别")]),s._v(" "),t("li",[s._v("命令 "),t("code",[s._v("systemctl set-default multi-user.target")]),s._v("：将默认运行级别设置为 mulit-user")])]),s._v(" "),t("h4",{attrs:{id:"_2-5-5-chkconfig-指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-5-chkconfig-指令"}},[s._v("#")]),s._v(" 2.5.5 chkconfig 指令")]),s._v(" "),t("p",[s._v("chkconfig 命令用于检查，设置系统的各种服务。通过 chkconfig 命令可以"),t("strong",[s._v("给每个服务的各个运行级别设置“自启动”/“关闭”")]),s._v("，此处的服务是指 service 指令管理的服务，在 /etc/init.d 查看，即 ls -l /etc/init.d 命令。")]),s._v(" "),t("p",[s._v("在 CentOS 7.0之后，很多服务使用 systemctl 管理。")]),s._v(" "),t("p",[s._v("基本语法：")]),s._v(" "),t("ul",[t("li",[s._v("查看服务："),t("code",[s._v("chkconfig --list | grep 服务名")])]),s._v(" "),t("li",[t("code",[s._v("chkconfig --level 5 服务名 on/off")]),s._v("：将某一个服务在特定级别下设置为“自启动”/“关闭”")])]),s._v(" "),t("p",[s._v("chkconfig 重新设置服务自启动或关闭后，需要重启机器才能生效。")]),s._v(" "),t("h3",{attrs:{id:"_2-6-systemctl-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-systemctl-命令"}},[s._v("#")]),s._v(" 2.6 systemctl 命令🎶")]),s._v(" "),t("blockquote",[t("p",[s._v("systemctl：system ctl")])]),s._v(" "),t("h4",{attrs:{id:"_2-6-1-systemctl-管理指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-systemctl-管理指令"}},[s._v("#")]),s._v(" 2.6.1 systemctl 管理指令")]),s._v(" "),t("p",[s._v("命令："),t("code",[s._v("systemctl [start | stop | restart | status] 服务名")])]),s._v(" "),t("ul",[t("li",[s._v("systemctl 指令管理的服务在 /usr/lib/systemd/system 目录查看")])]),s._v(" "),t("h4",{attrs:{id:"_2-6-2-systemctl-设置服务自启动状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-systemctl-设置服务自启动状态"}},[s._v("#")]),s._v(" 2.6.2 systemctl 设置服务自启动状态")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("systemctl list-unit-files| grep 服务名")]),s._v("：查看服务开机启动状态，使用 grep 进行过滤。")]),s._v(" "),t("li",[t("code",[s._v("systemctl enable 服务名")]),s._v("：设置服务开机自启动。")]),s._v(" "),t("li",[t("code",[s._v("systemctl disenable 服务名")]),s._v("：关闭服务开机自启动。【这两条指令是设置/关闭在 3 和 5 运行级别下的自启动】")]),s._v(" "),t("li",[t("code",[s._v("systemctl is-enable 服务名")]),s._v("：查询某个服务是否开机自启动。")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：查看当前防火墙的状况，关闭并重启它 => firewalld.service")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("查看状况：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl status firewalld\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("这里写 "),t("code",[s._v("firewalld")]),s._v(" 或者全名 "),t("code",[s._v("firewalld.service")]),s._v(" 均可")])])]),s._v(" "),t("li",[t("p",[s._v("关闭防火墙："),t("code",[s._v("systemctl stop firewalld")])])])]),s._v(" "),t("p",[s._v("细节讨论：这种关闭防火墙"),t("strong",[s._v("是立即生效，但只是临时生效")]),s._v("，重启系统后还是回归以前对服务的设置。如果希望某个服务自启动或者关闭永久生效，要使用 "),t("code",[s._v("systemctl [enable|disable] 服务名")]),s._v("。")])]),s._v(" "),t("h3",{attrs:{id:"_2-7-防火墙打开和关闭指定端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-防火墙打开和关闭指定端口"}},[s._v("#")]),s._v(" 2.7 防火墙打开和关闭指定端口🎶")]),s._v(" "),t("p",[s._v("在真正的生产环境，往往需要将防火墙打开。但如果把防火墙打开，那么外部请求数据包就不能跟服务器监听端口通讯。这时，"),t("strong",[s._v("需要打开指定的端口")]),s._v("。")]),s._v(" "),t("blockquote",[t("p",[s._v("防火墙的一个功能就是将请求允许的端口放行，不允许的端口过滤掉")])]),s._v(" "),t("p",[s._v("firewall 指令：")]),s._v(" "),t("ul",[t("li",[s._v("打开端口："),t("code",[s._v("firewall-cmd --permanent --add-port=端口号/协议")])]),s._v(" "),t("li",[s._v("关闭端口："),t("code",[s._v("firewall-cmd --permanent --remove-port=端口号/协议")])]),s._v(" "),t("li",[s._v("重新载入，才能生效："),t("code",[s._v("firewall-cmd --reload")])]),s._v(" "),t("li",[s._v("查询端口是否开放："),t("code",[s._v("firewall-cmd --query-port=端口号/协议")])]),s._v(" "),t("li",[s._v("端口号和协议可以通过 "),t("code",[s._v("netstat")]),s._v(" 进行监听")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：")]),s._v(" "),t("ol",[t("li",[s._v("先启用防火墙，然后在 Windows 中测试请求 Linux 的 111 端口能否 telnet => 不能")])]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("> telnet 192"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("168"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("200"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("130 111\n正在连接192"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("168"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("200"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("130"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("无法打开到主机的连接。 在端口 111: 连接失败\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("开放 111 端口：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v(" --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("/tcp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsuccess\n$ firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\nsuccess\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("在 Windows 中测试 telnet 就可以成功了")]),s._v(" "),t("li",[s._v("关闭 111 端口：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v(" --remove-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("/tcp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsuccess\n$ firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\nsuccess\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"_2-8-top-动态监控进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-top-动态监控进程"}},[s._v("#")]),s._v(" 2.8 top 动态监控进程")]),s._v(" "),t("p",[s._v("top 与 ps 命令很相似，它们都用来显示正在执行的进程。top 与 ps 最大的不同之处，在于 "),t("strong",[s._v("top 在执行一段时间可以更新正在运行的的进程")]),s._v("。")]),s._v(" "),t("p",[s._v("命令："),t("code",[s._v("top [选项]")])]),s._v(" "),t("ul",[t("li",[s._v("-d：指定 top 命令每隔几秒更新，默认 3 秒")]),s._v(" "),t("li",[s._v("-i：使 top 不显示任何闲置或者僵死进程")]),s._v(" "),t("li",[s._v("-p：通过指定监控进程 ID 来仅仅监控某个进程的状态")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220215171317028.png",alt:"image-20220215171317028"}})]),s._v(" "),t("ul",[t("li",[s._v("各字段含义可以百度")])]),s._v(" "),t("p",[s._v("执行 "),t("code",[s._v("top")]),s._v(" 后进入监控页面，还可以通过键盘输入一下按键来交互：")]),s._v(" "),t("ul",[t("li",[s._v("P：以 CPU 使用率排序，默认就是此项")]),s._v(" "),t("li",[s._v("M：以内存的使用率排序")]),s._v(" "),t("li",[s._v("N：以 PID 排序")]),s._v(" "),t("li",[s._v("q：退出 top")])]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-1-监视特定用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-1-监视特定用户"}},[s._v("#")]),s._v(" 🖊 案例 1：监视特定用户")]),s._v(" "),t("p",[s._v("输入 top 命令，查看执行的进程，然后输入 u 回车，再输入用户名。")]),s._v(" "),t("h4",{attrs:{id:"🖊-案例-2-终止指定的进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🖊-案例-2-终止指定的进程"}},[s._v("#")]),s._v(" 🖊 案例 2：终止指定的进程")]),s._v(" "),t("p",[s._v("输入 top 命令，查看执行的进程，然后输入 k 回车，再输入要结束的进程 PID 号。")]),s._v(" "),t("h3",{attrs:{id:"_2-9-netstat-监控网络状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-netstat-监控网络状态"}},[s._v("#")]),s._v(" 2.9 netstat 监控网络状态⭐️")]),s._v(" "),t("p",[t("code",[s._v("netstat [选项]")]),s._v("：查看系统网络情况")]),s._v(" "),t("ul",[t("li",[s._v("-an：按一定顺序排列输出")]),s._v(" "),t("li",[s._v("-p：显示哪个进程在调用")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：")]),s._v(" "),t("ul",[t("li",[s._v("查看服务名为 sshd 服务的信息："),t("code",[s._v("netstat -anp|grep sshd")])])]),s._v(" "),t("blockquote",[t("p",[s._v("netstat 命令可以查看当前的网络哪些服务处于监控状态，当前已有哪些连接（比如 TCP 连接的 ESTABLISHED 和 TIMEWAIT 等状态）。")])])]),s._v(" "),t("h3",{attrs:{id:"_2-10-ping-检测主机连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-ping-检测主机连接"}},[s._v("#")]),s._v(" 2.10 ping 检测主机连接")]),s._v(" "),t("p",[s._v("ping 是一种网络检测工具，它主要是用来检测远程主机是否正常，或是两部主机间的网线或网卡故障。如 "),t("code",[s._v("ping 对方IP地址")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"_3-rpm-与-yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-rpm-与-yum"}},[s._v("#")]),s._v(" 3. RPM 与 YUM")]),s._v(" "),t("h3",{attrs:{id:"_3-1-rpm-包的管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-rpm-包的管理"}},[s._v("#")]),s._v(" 3.1 RPM 包的管理")]),s._v(" "),t("p",[s._v("rpm 是用于互联网下载包的"),t("strong",[s._v("打包及安装工具")]),s._v("，它包含在某些 Linux 发行版中。它生成具有.RPM 扩展名的文件。"),t("strong",[s._v("RPM")]),s._v(" 是 RedHat Package Manager（RedHat 软件包管理工具）的缩写，类似 Windows 的 setup.exe，这一文件格式名称虽然打上了 RedHat 的标志，但理念是通用的。Linux 的发行版本都有采用（RedHat，CentOS等等），可以算是公认的行业标准了。")]),s._v(" "),t("h4",{attrs:{id:"_3-1-1-rpm-包的简单查询指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-rpm-包的简单查询指令"}},[s._v("#")]),s._v(" 3.1.1 rpm 包的简单查询指令")]),s._v(" "),t("blockquote",[t("p",[s._v("查询指令的选项是 -q（query），然后再和其他选项组合来使用。")])]),s._v(" "),t("p",[t("code",[s._v("rpm -qa")]),s._v("：查询已安装的全部 rpm 软件包")]),s._v(" "),t("blockquote",[t("p",[s._v("案例：看看当前系统是否安装了 Firefox："),t("code",[s._v("rpm -qa|grep firefox")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" firefox\nfirefox-91.5.0-1.el7.centos.x86_64\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("h4",{attrs:{id:"_3-1-2-rpm-包名基本格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-rpm-包名基本格式"}},[s._v("#")]),s._v(" 3.1.2 rpm 包名基本格式")]),s._v(" "),t("p",[s._v("一个 rpm 包名：firefox-91.5.0-1.el7.centos.x86_64")]),s._v(" "),t("ul",[t("li",[s._v("名称：firefox")]),s._v(" "),t("li",[s._v("版本号：91.5.0-1")]),s._v(" "),t("li",[s._v("适用 OS：el7.centos.x86_64\n"),t("ul",[t("li",[s._v("表示 centos7.x 的 64 位系统")]),s._v(" "),t("li",[s._v("如果是 i686、i386表示32位系统，noarch 表示通用")])])])]),s._v(" "),t("h4",{attrs:{id:"_3-1-3-rpm-包的其它查询指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-rpm-包的其它查询指令"}},[s._v("#")]),s._v(" 3.1.3 RPM 包的其它查询指令")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("rpm -qa | grep 软件包名")]),s._v("：查询所安装的是否有该软件包")]),s._v(" "),t("li",[t("code",[s._v("rpm -qi 软件包名")]),s._v("：查询软件包信息")]),s._v(" "),t("li",[t("code",[s._v("rpm -ql 软件包名")]),s._v("：查询软件包中的文件")]),s._v(" "),t("li",[t("code",[s._v("rpm -qf 文件全路径")]),s._v("：查询文件所属的软件包，如rpm -qf /etc/passwd")])]),s._v(" "),t("h4",{attrs:{id:"_3-1-4-卸载-rpm-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-卸载-rpm-包"}},[s._v("#")]),s._v(" 3.1.4 卸载 rpm 包")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -e RPM包的名称\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("包名不需要写全称，比如卸载火狐只需要写 firefox 即可。")]),s._v(" "),t("li",[s._v("e —— erase")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：删除 firefox 软件包："),t("code",[s._v("rpm -e firefox")])])]),s._v(" "),t("p",[s._v("细节问题")]),s._v(" "),t("ul",[t("li",[s._v("如果其它软件包依赖于要卸载的软件包，卸载时则会产生错误信息。")]),s._v(" "),t("li",[s._v("如果就是要删除这个 rpm 包，可以增加参数 --nodeps，就可以"),t("strong",[s._v("强制删除")]),s._v("，但是一般"),t("strong",[s._v("不推荐")]),s._v("这样做，因为依赖于该软件包的程序可能无法运行。")])]),s._v(" "),t("h4",{attrs:{id:"_3-1-5-安装-rpm-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-5-安装-rpm-包"}},[s._v("#")]),s._v(" 3.1.5 安装 rpm 包")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -ivh RPM包全路径名称\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("-i：install，安装")]),s._v(" "),t("li",[s._v("-v：verbose，提示")]),s._v(" "),t("li",[s._v("-h：hash，进度条")])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：卸载和安装 Firefox 浏览器")]),s._v(" "),t("ul",[t("li",[s._v("卸载："),t("code",[s._v("rpm -e firefox")])]),s._v(" "),t("li",[s._v("安装："),t("code",[s._v("rpm -ivh firefox的rpm安装包")])]),s._v(" "),t("li",[s._v("rpm安装包的位置：光盘的 "),t("code",[s._v("Package")]),s._v(" 文件夹中找到对应的包，copy 到本地目录中，进行安装。")])])]),s._v(" "),t("h3",{attrs:{id:"_3-2-yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-yum"}},[s._v("#")]),s._v(" 3.2 yum")]),s._v(" "),t("p",[s._v("YUM 是一个 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器"),t("strong",[s._v("自动下载 RPM 包并且安装")]),s._v("，可以"),t("strong",[s._v("自动处理依赖性关系")]),s._v("，并且一次安装所有依赖的软件包。使用 YUM 的前提是可以联网。")]),s._v(" "),t("blockquote",[t("p",[s._v("很像 maven。相当于 Ubuntu 的 apt。")])]),s._v(" "),t("ul",[t("li",[s._v("查询 YUM 服务器是否有需要安装的软件："),t("code",[s._v("yum list | grep 软件名")])]),s._v(" "),t("li",[s._v("安装指定的 yum 包："),t("code",[s._v("yum install 软件名")])])]),s._v(" "),t("blockquote",[t("p",[s._v("案例：使用 yum 的方式来安装 firefox")]),s._v(" "),t("ul",[t("li",[s._v("删除 Firefox："),t("code",[s._v("rpm -e firefox")])]),s._v(" "),t("li",[s._v("查询 Firefox："),t("code",[s._v("yum install | grep firefox")])]),s._v(" "),t("li",[s._v("安装："),t("code",[s._v("yum install firefox")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);