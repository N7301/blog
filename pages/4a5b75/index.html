<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux实操篇（上） | Nrich&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/blog/img/bitbug_favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/blog/assets/css/0.styles.5e70c998.css" as="style"><link rel="preload" href="/blog/assets/js/app.73302609.js" as="script"><link rel="preload" href="/blog/assets/js/2.c02cd514.js" as="script"><link rel="preload" href="/blog/assets/js/49.72f6d0a1.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.ccc2fc76.js"><link rel="prefetch" href="/blog/assets/js/11.15e920f7.js"><link rel="prefetch" href="/blog/assets/js/12.d6b747fb.js"><link rel="prefetch" href="/blog/assets/js/13.ee8d04f3.js"><link rel="prefetch" href="/blog/assets/js/14.b7513ca5.js"><link rel="prefetch" href="/blog/assets/js/15.f2e8ff40.js"><link rel="prefetch" href="/blog/assets/js/16.347a6e24.js"><link rel="prefetch" href="/blog/assets/js/17.6c1e9625.js"><link rel="prefetch" href="/blog/assets/js/18.7602b54c.js"><link rel="prefetch" href="/blog/assets/js/19.8f4fcc4b.js"><link rel="prefetch" href="/blog/assets/js/20.09885064.js"><link rel="prefetch" href="/blog/assets/js/21.b525f277.js"><link rel="prefetch" href="/blog/assets/js/22.b9ed6df2.js"><link rel="prefetch" href="/blog/assets/js/23.523e5d22.js"><link rel="prefetch" href="/blog/assets/js/24.d04239a4.js"><link rel="prefetch" href="/blog/assets/js/25.237a6c47.js"><link rel="prefetch" href="/blog/assets/js/26.6bd9bfe4.js"><link rel="prefetch" href="/blog/assets/js/27.ac60ace0.js"><link rel="prefetch" href="/blog/assets/js/28.ee14024f.js"><link rel="prefetch" href="/blog/assets/js/29.0caa2b3a.js"><link rel="prefetch" href="/blog/assets/js/3.620a1f91.js"><link rel="prefetch" href="/blog/assets/js/30.e6e7d6f8.js"><link rel="prefetch" href="/blog/assets/js/31.6ec6039c.js"><link rel="prefetch" href="/blog/assets/js/32.37f8dd2f.js"><link rel="prefetch" href="/blog/assets/js/33.7e29804a.js"><link rel="prefetch" href="/blog/assets/js/34.8eeb5b9d.js"><link rel="prefetch" href="/blog/assets/js/35.72aa34f7.js"><link rel="prefetch" href="/blog/assets/js/36.9de84a28.js"><link rel="prefetch" href="/blog/assets/js/37.64e3dd13.js"><link rel="prefetch" href="/blog/assets/js/38.99ad5507.js"><link rel="prefetch" href="/blog/assets/js/39.8cda7b61.js"><link rel="prefetch" href="/blog/assets/js/4.0df20a49.js"><link rel="prefetch" href="/blog/assets/js/40.ed6949c0.js"><link rel="prefetch" href="/blog/assets/js/41.bf343b6b.js"><link rel="prefetch" href="/blog/assets/js/42.cbbfd0d9.js"><link rel="prefetch" href="/blog/assets/js/43.39209b19.js"><link rel="prefetch" href="/blog/assets/js/44.7eec5b18.js"><link rel="prefetch" href="/blog/assets/js/45.b088db4c.js"><link rel="prefetch" href="/blog/assets/js/46.bfc9e511.js"><link rel="prefetch" href="/blog/assets/js/47.d0b2aa80.js"><link rel="prefetch" href="/blog/assets/js/48.49b8f1b4.js"><link rel="prefetch" href="/blog/assets/js/5.94069b5e.js"><link rel="prefetch" href="/blog/assets/js/50.dcbe6aa5.js"><link rel="prefetch" href="/blog/assets/js/51.cca2da80.js"><link rel="prefetch" href="/blog/assets/js/52.063ad237.js"><link rel="prefetch" href="/blog/assets/js/53.65573113.js"><link rel="prefetch" href="/blog/assets/js/54.e3b86f9a.js"><link rel="prefetch" href="/blog/assets/js/55.e23d17b7.js"><link rel="prefetch" href="/blog/assets/js/56.c47badfb.js"><link rel="prefetch" href="/blog/assets/js/57.8c7d3e16.js"><link rel="prefetch" href="/blog/assets/js/58.52fb51c8.js"><link rel="prefetch" href="/blog/assets/js/59.8ee7423a.js"><link rel="prefetch" href="/blog/assets/js/6.90726693.js"><link rel="prefetch" href="/blog/assets/js/60.7c6906fd.js"><link rel="prefetch" href="/blog/assets/js/61.898384c1.js"><link rel="prefetch" href="/blog/assets/js/62.6bf3cdda.js"><link rel="prefetch" href="/blog/assets/js/63.fed7f6ff.js"><link rel="prefetch" href="/blog/assets/js/64.62128c79.js"><link rel="prefetch" href="/blog/assets/js/65.dd8213b3.js"><link rel="prefetch" href="/blog/assets/js/66.579f1a82.js"><link rel="prefetch" href="/blog/assets/js/67.fa647f5d.js"><link rel="prefetch" href="/blog/assets/js/68.d535a10d.js"><link rel="prefetch" href="/blog/assets/js/69.4d7e0d52.js"><link rel="prefetch" href="/blog/assets/js/7.ba20b3c7.js"><link rel="prefetch" href="/blog/assets/js/70.4b6cd449.js"><link rel="prefetch" href="/blog/assets/js/71.be36a223.js"><link rel="prefetch" href="/blog/assets/js/72.f57cde07.js"><link rel="prefetch" href="/blog/assets/js/73.a4087adf.js"><link rel="prefetch" href="/blog/assets/js/74.8f60ef05.js"><link rel="prefetch" href="/blog/assets/js/75.fdc945ab.js"><link rel="prefetch" href="/blog/assets/js/76.d1f1faa5.js"><link rel="prefetch" href="/blog/assets/js/77.687a6763.js"><link rel="prefetch" href="/blog/assets/js/78.97f56bb1.js"><link rel="prefetch" href="/blog/assets/js/79.35c1de5f.js"><link rel="prefetch" href="/blog/assets/js/8.2abb0131.js"><link rel="prefetch" href="/blog/assets/js/80.fbe50656.js"><link rel="prefetch" href="/blog/assets/js/81.102e33bc.js"><link rel="prefetch" href="/blog/assets/js/82.4f73285b.js"><link rel="prefetch" href="/blog/assets/js/9.ece9abdb.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5e70c998.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/mylogo.jpeg" alt="Nrich's blog" class="logo"> <span class="site-name can-hide">Nrich's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><!----> <span class="title" style="display:;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/blog/go/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><!----> <span class="title" style="display:;">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/deep-learning/" class="nav-link">深度学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/datastructure/" class="nav-link">DataStructure</a></li><li class="dropdown-item"><!----> <a href="/blog/cloudnative/" class="nav-link">CloudNative</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/redis/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/" class="nav-link">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><!----> <span class="title" style="display:;">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/route-hijack/" class="nav-link">路由劫持</a></li></ul></div></div> <a href="https://github.com/n7301/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/head.jpg"> <div class="blogger-info"><h3>Nrich</h3> <span>小聪明</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><!----> <span class="title" style="display:;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/blog/go/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><!----> <span class="title" style="display:;">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/deep-learning/" class="nav-link">深度学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/datastructure/" class="nav-link">DataStructure</a></li><li class="dropdown-item"><!----> <a href="/blog/cloudnative/" class="nav-link">CloudNative</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/redis/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/" class="nav-link">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><!----> <span class="title" style="display:;">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/route-hijack/" class="nav-link">路由劫持</a></li></ul></div></div> <a href="https://github.com/n7301/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>韩顺平2021课程笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/c774f5/" class="sidebar-link">Linux 基础篇</a></li><li><a href="/blog/pages/4a5b75/" aria-current="page" class="active sidebar-link">Linux实操篇（上）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_1-vi-和-vim-编辑器" class="sidebar-link">1. Vi 和 Vim 编辑器</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_2-开机、重启与用户登录注销" class="sidebar-link">2. 开机、重启与用户登录注销</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_2-1-关机-重启命令" class="sidebar-link">2.1 关机 &amp; 重启命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_2-2-用户登录与注销" class="sidebar-link">2.2 用户登录与注销</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_3-用户管理" class="sidebar-link">3. 用户管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-1-添加用户" class="sidebar-link">3.1 添加用户</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-2-指定-修改密码" class="sidebar-link">3.2 指定/修改密码</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-3-删除用户" class="sidebar-link">3.3 删除用户</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-4-查询用户信息" class="sidebar-link">3.4 查询用户信息</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-5-切换用户" class="sidebar-link">3.5 切换用户</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-6-查看当前登录用户" class="sidebar-link">3.6 查看当前登录用户</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-7-用户组" class="sidebar-link">3.7 用户组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_3-8-用户和组相关的文件" class="sidebar-link">3.8 用户和组相关的文件</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_4-实用指令" class="sidebar-link">4. 实用指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-1-运行级别" class="sidebar-link">4.1 运行级别</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#centos-7-后运行级别说明" class="sidebar-link">CentOS 7 后运行级别说明</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-2-找回-root-密码" class="sidebar-link">4.2 找回 root 密码</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-3-帮助指令" class="sidebar-link">4.3 帮助指令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-4-时间日期类" class="sidebar-link">4.4 时间日期类</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-4-1-date-显示当前日期" class="sidebar-link">4.4.1 date 显示当前日期</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-4-2-cal-显示日历" class="sidebar-link">4.4.2 cal 显示日历</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-5-搜索查找类" class="sidebar-link">4.5 搜索查找类</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-5-1-find" class="sidebar-link">4.5.1 find</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-5-2-locate" class="sidebar-link">4.5.2 locate</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-5-3-which" class="sidebar-link">4.5.3 which</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-5-4-grep-指令和管道符号" class="sidebar-link">4.5.4 grep 指令和管道符号 |</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_4-6-压缩和解压类" class="sidebar-link">4.6 压缩和解压类</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-6-1-gzip-压缩-gunzip-解压" class="sidebar-link">4.6.1 gzip 压缩 &amp; gunzip 解压</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-6-2-zip-压缩-unzip-解压" class="sidebar-link">4.6.2 zip 压缩 &amp; unzip 解压</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-6-3-tar-打包-⭐️" class="sidebar-link">4.6.3 tar 打包 ⭐️</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_5-组管理和权限管理" class="sidebar-link">5. 组管理和权限管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-1-所有者" class="sidebar-link">5.1 所有者</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-1-1-查看文件的所有者" class="sidebar-link">5.1.1 查看文件的所有者</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-1-2-修改文件所有者" class="sidebar-link">5.1.2 修改文件所有者</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-2-组的创建" class="sidebar-link">5.2 组的创建</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-3-所在组" class="sidebar-link">5.3 所在组</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_53-1-查看文件的所在组" class="sidebar-link">53.1 查看文件的所在组</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-3-2-修改文件的所在组" class="sidebar-link">5.3.2 修改文件的所在组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-4-其他组" class="sidebar-link">5.4 其他组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-5-改变用户的所在组" class="sidebar-link">5.5 改变用户的所在组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_5-6-文件的权限" class="sidebar-link">5.6 文件的权限</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-6-1-权限的基本介绍" class="sidebar-link">5.6.1 权限的基本介绍</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-6-2-rwx-权限-⭐️" class="sidebar-link">5.6.2 rwx 权限 ⭐️</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#_1-rwx-作用到文件" class="sidebar-link">1）rwx 作用到文件**</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#_2-rwx-作用到目录" class="sidebar-link">2）rwx 作用到目录**</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-6-3-权限的数字表示" class="sidebar-link">5.6.3 权限的数字表示</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-6-4-chmod-修改权限" class="sidebar-link">5.6.4 chmod 修改权限</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#_1-第一种方式-变更权限" class="sidebar-link">1）第一种方式：+ - = 变更权限</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#_2-第二种方式-通过数字变更权限" class="sidebar-link">2）第二种方式：通过数字变更权限</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-6-5-其他说明" class="sidebar-link">5.6.5 其他说明</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_6-定时任务调度" class="sidebar-link">6. 定时任务调度</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_6-1-crond-任务调度" class="sidebar-link">6.1 crond 任务调度</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_6-1-1-概述" class="sidebar-link">6.1.1 概述</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_6-1-2-基本语法" class="sidebar-link">6.1.2 基本语法</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_6-1-3-快速入门" class="sidebar-link">6.1.3 快速入门</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#任务书写格式" class="sidebar-link">任务书写格式：</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#_5-个占位符的说明" class="sidebar-link">5 个占位符的说明：</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/4a5b75/#特殊符号的说明" class="sidebar-link">特殊符号的说明</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_6-2-at-定时任务" class="sidebar-link">6.2 at 定时任务</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_6-2-1-at-时间定义的方法" class="sidebar-link">6.2.1 at 时间定义的方法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4a5b75/#_7-磁盘分区、挂载" class="sidebar-link">7. 磁盘分区、挂载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_7-1-linux-分区" class="sidebar-link">7.1 Linux 分区</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_7-1-1-原理介绍" class="sidebar-link">7.1.1 原理介绍</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_7-1-2-硬盘说明" class="sidebar-link">7.1.2 硬盘说明</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_7-1-3-查看所有设备挂载情况" class="sidebar-link">7.1.3 查看所有设备挂载情况</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_7-2-挂载的经典案例-增加一块硬盘" class="sidebar-link">7.2 挂载的经典案例 —— 增加一块硬盘</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_1-虚拟机添加硬盘" class="sidebar-link">1）虚拟机添加硬盘</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_2-磁盘分区" class="sidebar-link">2）磁盘分区</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_3-格式化磁盘" class="sidebar-link">3）格式化磁盘</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-挂载" class="sidebar-link">4）挂载</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-设置自动挂载" class="sidebar-link">5）设置自动挂载</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_7-3-磁盘情况查询" class="sidebar-link">7.3 磁盘情况查询</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_7-3-1-查询系统整体磁盘使用情况" class="sidebar-link">7.3.1 查询系统整体磁盘使用情况</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_7-3-2-查询指定目录的磁盘占用情况" class="sidebar-link">7.3.2 查询指定目录的磁盘占用情况</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4a5b75/#_7-4-磁盘情况-工作实用指令" class="sidebar-link">7.4 磁盘情况 - 工作实用指令</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_1-统计-opt-文件夹下文件的个数" class="sidebar-link">1）统计 /opt 文件夹下文件的个数</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_2-统计-opt-文件夹下目录的个数" class="sidebar-link">2）统计 /opt 文件夹下目录的个数</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_3-统计-opt-文件夹下文件的个数-包括子文件夹下的" class="sidebar-link">3）统计 /opt 文件夹下文件的个数，包括子文件夹下的</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_4-统计-opt-文件夹下目录的个数-包括子文件夹下的" class="sidebar-link">4）统计 /opt 文件夹下目录的个数，包括子文件夹下的</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/4a5b75/#_5-以树状显示目录结构" class="sidebar-link">5）以树状显示目录结构</a></li></ul></li></ul></li><li><a href="/blog/pages/16468e/" class="sidebar-link">Linux实操篇（下）</a></li><li><a href="/blog/pages/1e98d9/" class="sidebar-link">JavaEE与Python定制篇</a></li><li><a href="/blog/pages/338288/" class="sidebar-link">大数据定制篇-Shell编程</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>From公众号</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>云原生</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blog/categories/?category=%E5%9F%BA%E7%A1%80" title="分类" data-v-06225672>基础</a></li><li data-v-06225672><a href="/blog/categories/?category=Linux" title="分类" data-v-06225672>Linux</a></li><li data-v-06225672><a href="/blog/categories/?category=%E9%9F%A9%E9%A1%BA%E5%B9%B32021%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>韩顺平2021课程笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Nrich-sunny" target="_blank" title="作者" class="beLink" data-v-06225672>Nrich</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-04-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Linux实操篇（上）<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="_1-vi-和-vim-编辑器"><a href="#_1-vi-和-vim-编辑器" class="header-anchor">#</a> 1. Vi 和 Vim 编辑器</h2> <p>要会一些基本的快捷键，一般在 Linux 下不需要特别复杂的操作。</p> <div class="custom-block tip"><p class="custom-block-title">三种模式之间的相互切换</p> <ul><li><p>一般模式</p></li> <li><p>编辑模式</p></li> <li><p>命令模式</p> <p>:wq（保存退出）</p> <p>:q（退出）</p> <p>:q!（强制退出，不保存）</p></li></ul></div> <h2 id="_2-开机、重启与用户登录注销"><a href="#_2-开机、重启与用户登录注销" class="header-anchor">#</a> 2. 开机、重启与用户登录注销</h2> <h3 id="_2-1-关机-重启命令"><a href="#_2-1-关机-重启命令" class="header-anchor">#</a> 2.1 关机 &amp; 重启命令</h3> <table><thead><tr><th style="text-align:center;">命令</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">shutdown -h now</td> <td>立刻进行关机</td></tr> <tr><td style="text-align:center;">shutdown -h 2</td> <td>“hello，2 分钟后会关机了”</td></tr> <tr><td style="text-align:center;"><code>shutdown -r now</code> = <code>reboot</code></td> <td>现在重启</td></tr> <tr><td style="text-align:center;">halt</td> <td>关机，与上面一样</td></tr> <tr><td style="text-align:center;">sync</td> <td>把内存的数据同步到磁盘</td></tr></tbody></table> <ul><li><strong>不管是重启还是关机，首先要运行 sync 命令</strong>，把内存中的数据写到磁盘中。目前的 shutdown/reboot/halt 等命令均在关机前进行了 sync，但小心驶得万年船。</li> <li>root 才可以关机。</li></ul> <h3 id="_2-2-用户登录与注销"><a href="#_2-2-用户登录与注销" class="header-anchor">#</a> 2.2 用户登录与注销</h3> <p><strong>登录</strong>时尽量少用 root 账号，避免操作失误。使用 <code>su &lt;用户名&gt;</code> 可以切换身份。</p> <p><code>logout</code> 命令即可<strong>注销</strong>用户。这个指令在图形运行级别无效。</p> <h2 id="_3-用户管理"><a href="#_3-用户管理" class="header-anchor">#</a> 3. 用户管理</h2> <p>Linux 是一个多用户多任务的操作系统。</p> <h3 id="_3-1-添加用户"><a href="#_3-1-添加用户" class="header-anchor">#</a> 3.1 添加用户</h3> <p>语法：<code>useradd 用户名</code></p> <ul><li>当用户创建成功后，会<strong>自动创建与用户同名的家目录</strong>（<code>/home/用户名</code>）。</li> <li>也可以通过 <code>useradd -d 指定目录 用户名</code> 来给新用户指定家目录。</li></ul> <h3 id="_3-2-指定-修改密码"><a href="#_3-2-指定-修改密码" class="header-anchor">#</a> 3.2 指定/修改密码</h3> <p><code>passwd tom</code>：给 tom 指定密码</p> <p>**注：**若不指定用户名，则是修改当前用户的用户名。</p> <h3 id="_3-3-删除用户"><a href="#_3-3-删除用户" class="header-anchor">#</a> 3.3 删除用户</h3> <ul><li><code>userdel nrich</code>：删除用户 nrich，但要保留家目录</li> <li><code>userdel -r nrich</code>：删除用户及其家目录</li></ul> <p>一般情况下，我们<strong>建议保留</strong>，毕竟他所做的工作放在了里面。</p> <h3 id="_3-4-查询用户信息"><a href="#_3-4-查询用户信息" class="header-anchor">#</a> 3.4 查询用户信息</h3> <p><code>id 用户名</code>：查询该用户的信息，当用户不存在时返回无此用户。</p> <h3 id="_3-5-切换用户"><a href="#_3-5-切换用户" class="header-anchor">#</a> 3.5 切换用户</h3> <p>当操作权限不够时，可以通过 <code>su</code> 命令切换到高权限用户。</p> <ul><li>从高权限到低权限的切换不需要密码，反之需要。</li> <li>当需要返回到原来用户时，使用 <code>exit/logout</code> 指令。</li></ul> <h3 id="_3-6-查看当前登录用户"><a href="#_3-6-查看当前登录用户" class="header-anchor">#</a> 3.6 查看当前登录用户</h3> <p><code>whoami</code> = <code>who am I</code>：显示第一次登录时的用户。</p> <blockquote><p>此处自行尝试时，发现  <code>whoami</code> 显示的是当前切换过来的用户，<code>who am i</code> 显示的是第一次登陆时的用户。</p></blockquote> <h3 id="_3-7-用户组"><a href="#_3-7-用户组" class="header-anchor">#</a> 3.7 用户组</h3> <p>类似于角色，用户组可以让系统对有共性/权限的多个用户进行统一管理。</p> <ul><li><code>groupadd 组名</code>：新增组</li> <li><code>groupdel 组名</code>：删除组</li></ul> <p>如何将让一个用户加入一个组呢？有以下几种方法：</p> <ol><li>增加用户时直接加上组：<code>useradd -g 用户组 用户名</code></li> <li>修改用户的组：<code>usermod -g 用户组 用户名</code></li> <li>若一个用户没有指定加入哪个组，会<strong>默认在一个与自己同名的组</strong>中</li></ol> <h3 id="_3-8-用户和组相关的文件"><a href="#_3-8-用户和组相关的文件" class="header-anchor">#</a> 3.8 用户和组相关的文件</h3> <ul><li><p>/etc/passwd 文件：用户的配置文件，记录用户的各种信息</p> <ul><li><p>每行的含义：<code>用户名:口令:用户标识号(uid):组标识号(gid):注释性描述:主目录(home中相应的目录):登录shell</code></p></li> <li><p>shell 的简单解释：可以把传给 Linux 内核的命令解析（直接把命令传给 Linux 内核是无法被解析的），如下图。我们常用的是 bash。</p> <img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220417164321822.png" alt="image-20220417164321822" style="zoom:80%;"></li></ul></li> <li><p>/etc/shadow 文件：口令的配置文件</p> <ul><li>每行的含义：<code>登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</code></li></ul></li> <li><p>/etc/group 文件：组的配置文件，记录各组的信息</p> <ul><li>每行的含义：<code>组名:口令:组标识号:组内的用户列表</code></li></ul></li></ul> <h2 id="_4-实用指令"><a href="#_4-实用指令" class="header-anchor">#</a> 4. 实用指令</h2> <h3 id="_4-1-运行级别"><a href="#_4-1-运行级别" class="header-anchor">#</a> 4.1 运行级别</h3> <table><thead><tr><th style="text-align:center;">运行级别</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">0</td> <td>关机</td></tr> <tr><td style="text-align:center;">1</td> <td>单用户模式（可以帮助我们找回丢失密码）</td></tr> <tr><td style="text-align:center;">2</td> <td>多用户状态没有网络服务</td></tr> <tr><td style="text-align:center;">3</td> <td>多用户状态<strong>有网络服务</strong>【工作中常用】</td></tr> <tr><td style="text-align:center;">4</td> <td>系统未使用，保留给用户</td></tr> <tr><td style="text-align:center;">5</td> <td><strong>图形界面</strong></td></tr> <tr><td style="text-align:center;">6</td> <td>系统重启</td></tr></tbody></table> <ul><li>常见运行级别是 3 和 5，也可以指定默认运行级别。</li></ul> <p><code>init &lt;num&gt;</code>：切换到 num 运行级别，如 <code>init 3</code> 将切换到多用户状态有网络服务模式（没有图形界面）。</p> <h4 id="centos-7-后运行级别说明"><a href="#centos-7-后运行级别说明" class="header-anchor">#</a> CentOS 7 后运行级别说明</h4> <ul><li><strong>multi-user.target</strong>：相当于 runlevel 3</li> <li><strong>graphical.target</strong>：相当于 runlevel 5</li></ul> <p>查看当前默认运行级别：<code>systemctl get-default</code></p> <p>设置默认运行级别：<code>systemctl set-default TARGET.target</code></p> <blockquote><p>当我们在图形化下将默认运行级别设为 multi-user.target 后，重启系统后会默认进入黑框框界面，即 runlevel 3。</p></blockquote> <h3 id="_4-2-找回-root-密码"><a href="#_4-2-找回-root-密码" class="header-anchor">#</a> 4.2 找回 root 密码</h3> <p>// TODO</p> <p>不同版本的系统找回密码具体操作有所区别。</p> <h3 id="_4-3-帮助指令"><a href="#_4-3-帮助指令" class="header-anchor">#</a> 4.3 帮助指令</h3> <ul><li><p><code>man [命令或配置文件]</code>：获得帮助信息，比如 <code>man ls</code></p> <ul><li>😄显示不全乎的按空格键继续往下走</li> <li>在 Linux 下， 隐藏文件是以 . 开头的</li> <li>选项可以组合使用，无顺序区别，比如 <code>ls -al</code> 或者 <code>ls -la</code></li> <li><code>ls</code> 命令还可以指定一个目录，比如 <code>ls -l /root</code></li></ul></li> <li><p><code>help 命令</code>：获得 shell 内置命令的帮助信息</p></li></ul> <p>如果英语不太好，<strong>百度更直接</strong>。</p> <h3 id="_4-4-时间日期类"><a href="#_4-4-时间日期类" class="header-anchor">#</a> 4.4 时间日期类</h3> <h4 id="_4-4-1-date-显示当前日期"><a href="#_4-4-1-date-显示当前日期" class="header-anchor">#</a> 4.4.1 date 显示当前日期</h4> <ul><li><p>date 显示时间：</p> <ul><li><code>date</code>：显示当前日期</li> <li><code>date &quot;+format&quot;</code>：format 中可以用 %Y（年）、%m（月）、%d111（日）、%H（时）、%M（月）、%S（秒），比如 <code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code></li></ul></li> <li><p>date 设置时间： <code>date -s &quot;2020-11-03 20:02:10&quot;</code> ，时间为字符串格式</p></li></ul> <h4 id="_4-4-2-cal-显示日历"><a href="#_4-4-2-cal-显示日历" class="header-anchor">#</a> 4.4.2 cal 显示日历</h4> <p>calendar 的缩写。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cal [选项]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>默认显示本月日历</li> <li><code>cal 2020</code>：显示 2020 全年的日历</li></ul> <h3 id="_4-5-搜索查找类"><a href="#_4-5-搜索查找类" class="header-anchor">#</a> 4.5 搜索查找类</h3> <h4 id="_4-5-1-find"><a href="#_4-5-1-find" class="header-anchor">#</a> 4.5.1 find</h4> <p>find 指令将从指定目录向下递归地遍历<strong>其各个子目录</strong>，将满足条件的文件或目录显示出来。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>find [搜索范围] [选项]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>-name &lt;查询方式&gt;</code>：按指定的文件名查找模式查找文件，也可以加匹配符 * 等。</li> <li><code>-user &lt;用户名&gt;</code>：查找属于指定用户名的所有文件</li> <li><code>-size &lt;文件大小&gt;</code>：按照指定的文件大小查找文件</li></ul> <blockquote><p>案例：</p> <ul><li>根据名称查找 /home 目录下的 hello.txt：<code>find /home -name hello.txt</code></li> <li>查找 /opt 下用户 nrich 的文件：<code>find /opt -user nrich</code></li> <li>查找整个 linux 系统下大于 200M 的文件(+n 大于， -n 小于，单位有 k, M, G)：<code>find / -size +200M</code></li></ul></blockquote> <h4 id="_4-5-2-locate"><a href="#_4-5-2-locate" class="header-anchor">#</a> 4.5.2 locate</h4> <p>locate 可以快速定位文件路径。locate 指令<strong>利用事先建立的数据库</strong>实现快速定位，它<strong>无需遍历整个</strong>文件系统因而较快。为了保证查询结果准确性，<strong>管理员必须定期更新</strong> locate 时刻：<code>updatedb</code>。</p> <p><code>locate [搜索文件]</code>：</p> <ul><li>第一次使用前，必须使用 <code>updatedb</code> 指令来创建 locate 数据库。</li></ul> <h4 id="_4-5-3-which"><a href="#_4-5-3-which" class="header-anchor">#</a> 4.5.3 which</h4> <p>which 可以查看某个指令在哪个目录下。比如 <code>which ls</code> 查看 ls 指令在哪个目录。</p> <h4 id="_4-5-4-grep-指令和管道符号"><a href="#_4-5-4-grep-指令和管道符号" class="header-anchor">#</a> 4.5.4 grep 指令和管道符号 <code>|</code></h4> <p>grep 过滤查找。</p> <p>管道夫 <code>|</code> 表示将前一个命令的处理结果输出传递给后面的命令处理。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>grep [选项] 查找内容 源文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>-n：显示匹配行及行号</li> <li>-i：忽略字母大小写</li></ul> <blockquote><p>案例：在 hello.text 文件中查找“yes”所在行，并显示行号</p> <ul><li>写法1：<code>cat /home/hello.txt | grep -n &quot;yes&quot;</code></li> <li>写法2：<code>grep -n &quot;yes&quot; /home/hello.txt</code></li></ul></blockquote> <h3 id="_4-6-压缩和解压类"><a href="#_4-6-压缩和解压类" class="header-anchor">#</a> 4.6 压缩和解压类</h3> <h4 id="_4-6-1-gzip-压缩-gunzip-解压"><a href="#_4-6-1-gzip-压缩-gunzip-解压" class="header-anchor">#</a> 4.6.1 gzip 压缩 &amp; gunzip 解压</h4> <ul><li><p><code>gzip 文件</code>：压缩文件为 *.gz 文件</p> <p>📝 压缩的同时会把原文件删除！</p></li> <li><p><code>gunzip 文件.gz</code>：解压</p></li></ul> <p>​			📝 解压的同时也会把压缩文件删除</p> <h4 id="_4-6-2-zip-压缩-unzip-解压"><a href="#_4-6-2-zip-压缩-unzip-解压" class="header-anchor">#</a> 4.6.2 zip 压缩 &amp; unzip 解压</h4> <ul><li><code>zip [选项] xxx.zip</code>：压缩文件和目录。<code>-r</code> 递归压缩，即压缩目录。</li> <li><code>unzip [选项] xxx.zip</code>：解压缩文件。<code>-d &lt;目录&gt;</code> 指定解压后文件的存放目录。</li></ul> <blockquote><p>案例：</p> <ul><li>将 home 本身及 /home 下的所有文件压缩：<code>zip -r myhome.zip /home/</code></li> <li>将 myhome.zip 解压到 /opt/tmp 目录下：<code>unzip -d /opt/tmp /home/myhome.zip</code></li></ul></blockquote> <h4 id="_4-6-3-tar-打包-⭐️"><a href="#_4-6-3-tar-打包-⭐️" class="header-anchor">#</a> 4.6.3 tar 打包 ⭐️</h4> <p>tar 是打包指令（仅仅打包但不压缩），最后打包后的文件是 xxx.tar.gz 文件。</p> <p><code>tar [选项] xxx.tar.gz 打包的内容</code>：打包目录，压缩后的文件格式为 xxx.tar.gz</p> <ul><li>-c：【create】创建一个新的打包文件</li> <li>-v：【verbose】显示详细信息</li> <li>-f：【filename】指定压缩后的文件名</li> <li>-z：【gzip】打包同时用 gzip 算法压缩</li> <li>-x：【extract】<strong>解包</strong> .tar 文件</li></ul> <p>常用的选项组合：</p> <ul><li>打包并压缩：tar -<strong>zcvf</strong> xxx.tar.gz [原文件名/目录名]</li> <li>解压并解包：tar -<strong>zxvf</strong> xxx.tar.gz [目的地]</li></ul> <blockquote><p>案例：</p> <ul><li>将 pig.txt 和 cat.txt 压缩成 pc.tar.gz：<code>tar -zcvf pc.tar.gz pig.txt cat.txt</code></li> <li>将 /home 文件夹压缩成 myhome.tar.gz：<code>tar -zcvf myhome.tar.gz /home/</code></li> <li>将 pc.tar.gz 解压到当前目录：<code>tar -zxvf pc.tar.gz</code></li> <li>将 pc.tar.gz 解压到 /opt/tmp 目录：<code>tar -zxvf pc.tar.gz -C /opt/tmp</code></li></ul></blockquote> <h2 id="_5-组管理和权限管理"><a href="#_5-组管理和权限管理" class="header-anchor">#</a> 5. 组管理和权限管理</h2> <p>Linux 中<strong>每个用户必须属于一个组</strong>，不能独立于组外。<strong>每个文件有所有者、所在组、其他组的概念</strong>。</p> <blockquote><p><strong>目录也是一种特殊的文件</strong>，所以这里的“文件”也包括了目录。</p></blockquote> <h3 id="_5-1-所有者"><a href="#_5-1-所有者" class="header-anchor">#</a> 5.1 所有者</h3> <p>创建文件的人是<strong>所有者</strong>，所有者可以更改。</p> <h4 id="_5-1-1-查看文件的所有者"><a href="#_5-1-1-查看文件的所有者" class="header-anchor">#</a> 5.1.1 查看文件的所有者</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>ls -ahl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220728152647392.png" alt="image-20220728152647392" style="zoom:80%;"> <ul><li>最后一列的蓝色表示这是个目录，白色表示是文件</li></ul> <h4 id="_5-1-2-修改文件所有者"><a href="#_5-1-2-修改文件所有者" class="header-anchor">#</a> 5.1.2 修改文件所有者</h4> <ul><li><code>chown 用户名 文件名</code>：【change owner】将文件的所有者改成指定的用户</li> <li><code>chown newOwner:newGroup 文件名</code>：同时改变所有者和所在组</li> <li><code>-R</code>：如果是目录，则使其下所有子文件或者目录递归生效</li></ul> <h3 id="_5-2-组的创建"><a href="#_5-2-组的创建" class="header-anchor">#</a> 5.2 组的创建</h3> <p><code>groupadd 组名</code>：创建一个组</p> <blockquote><p>案例：</p> <ul><li><p>创建一个组 monster：<code>groupadd monster</code></p></li> <li><p>创建一个用户 fox，并放到 monster 组中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>useradd -g monster fox
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>-g 表示 group</li></ul></li></ul></blockquote> <h3 id="_5-3-所在组"><a href="#_5-3-所在组" class="header-anchor">#</a> 5.3 所在组</h3> <p>当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组（默认）。</p> <h4 id="_53-1-查看文件的所在组"><a href="#_53-1-查看文件的所在组" class="header-anchor">#</a> 53.1 查看文件的所在组</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>ls -ahl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220728152647392.png" alt="image-20220728152647392" style="zoom:80%;"> <h4 id="_5-3-2-修改文件的所在组"><a href="#_5-3-2-修改文件的所在组" class="header-anchor">#</a> 5.3.2 修改文件的所在组</h4> <p><code>chgrp 组名 文件名</code>：【change group】</p> <h3 id="_5-4-其他组"><a href="#_5-4-其他组" class="header-anchor">#</a> 5.4 其他组</h3> <p>除了文件的所有者和所在组的用户外，系统的其他用户都是文件的<strong>其他组</strong>。</p> <h3 id="_5-5-改变用户的所在组"><a href="#_5-5-改变用户的所在组" class="header-anchor">#</a> 5.5 改变用户的所在组</h3> <p>root 的管理权限可以改变某个用户的所在组。</p> <ul><li><code>usermod -g 新组名 用户名</code>：修改用户的所在组。</li></ul> <blockquote><p>usermod 可以用来修改用户账号的各项设定，具体可查 <a href="https://www.runoob.com/linux/linux-comm-usermod.html" target="_blank" rel="noopener noreferrer">usermod命令 | 菜鸟教程(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="_5-6-文件的权限"><a href="#_5-6-文件的权限" class="header-anchor">#</a> 5.6 文件的权限</h3> <h4 id="_5-6-1-权限的基本介绍"><a href="#_5-6-1-权限的基本介绍" class="header-anchor">#</a> 5.6.1 权限的基本介绍</h4> <p>下图的第一列便是权限：</p> <img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220728152647392.png" alt="image-20220728152647392" style="zoom:80%;"> <ul><li>第 0 位表示<strong>文件类型</strong>：l 链接，d 目录，c 字符设备文件（如鼠标、光盘），b 块设备（如硬盘），- 普通文件</li> <li>第 1~3 位表示<strong>所有者</strong>拥有该文件的权限</li> <li>第 4~6 位表示<strong>所属组</strong>拥有该文件的权限</li> <li>第 7~9 位表示<strong>其他用户</strong>拥有该文件的权限</li></ul> <h4 id="_5-6-2-rwx-权限-⭐️"><a href="#_5-6-2-rwx-权限-⭐️" class="header-anchor">#</a> 5.6.2 rwx 权限 ⭐️</h4> <h5 id="_1-rwx-作用到文件"><a href="#_1-rwx-作用到文件" class="header-anchor">#</a> 1）rwx 作用到文件**</h5> <ul><li>【r】可读</li> <li>【w】可写。<strong>可以修改但不代表可以删除该文件</strong>，<strong>删除一个文件的前提条件是对该文件所在的目录有写权限</strong>。</li> <li>【x】可执行（execute）</li></ul> <h5 id="_2-rwx-作用到目录"><a href="#_2-rwx-作用到目录" class="header-anchor">#</a> 2）rwx 作用到目录**</h5> <ul><li>【r】可读。ls 可以查看目录内容。</li> <li>【w】可写。可以对目录内创建 + 删除 + 重命名目录。</li> <li>【x】可执行。可以进入该目录。此时根据目录中文件的权限，对其该读读，该写写。</li></ul> <h4 id="_5-6-3-权限的数字表示"><a href="#_5-6-3-权限的数字表示" class="header-anchor">#</a> 5.6.3 权限的数字表示</h4> <p>$r=4, w=2, x =1$</p> <p>因此 rwx = 4+2+1 = 7，rw- = 4+2 = 6 等。</p> <h4 id="_5-6-4-chmod-修改权限"><a href="#_5-6-4-chmod-修改权限" class="header-anchor">#</a> 5.6.4 chmod 修改权限</h4> <p>chmod 可以修改文件/目录的权限：<code>chmod [变更方式] 文件名</code></p> <h5 id="_1-第一种方式-变更权限"><a href="#_1-第一种方式-变更权限" class="header-anchor">#</a> 1）第一种方式：+ - = 变更权限</h5> <ul><li>u —— 所有者，user 的简写</li> <li>g —— 所有组，group 的简写</li> <li>o —— 其他人，other 的简写</li> <li>a —— 所有人（即 u、g、o 的总和），all 的简写</li></ul> <blockquote><p>案例：给 foo.txt 的所有者赋予读写执行的权限，增加所在组写的权限，除去其他人读的权限</p> <ul><li><code>chmod u=rwx,g+w,o-r foo.txt</code></li></ul></blockquote> <h5 id="_2-第二种方式-通过数字变更权限"><a href="#_2-第二种方式-通过数字变更权限" class="header-anchor">#</a> 2）第二种方式：通过数字变更权限</h5> <p>$r=4, w=2, x =1$</p> <blockquote><p>案例：将 bar.txt 的权限修改为 rwxr-xr-x</p> <ul><li><code>chmod 755 bar.txt</code></li></ul></blockquote> <h4 id="_5-6-5-其他说明"><a href="#_5-6-5-其他说明" class="header-anchor">#</a> 5.6.5 其他说明</h4> <ul><li>权限列后的数字列：文件的硬连接数 | 目录的子目录数（不包含普通文件）。</li> <li>若要对目录内的文件进行操作，需要先有对该目录的相应权限。</li></ul> <h2 id="_6-定时任务调度"><a href="#_6-定时任务调度" class="header-anchor">#</a> 6. 定时任务调度</h2> <h3 id="_6-1-crond-任务调度"><a href="#_6-1-crond-任务调度" class="header-anchor">#</a> 6.1 crond 任务调度</h3> <p>crontab 进行定时任务的设置。该命令<strong>每分钟会定期检查</strong>是否有要执行的工作，如果有要执行的工作便会自动执行该工作。</p> <blockquote><p>英语：crond 定时任务，crontab 定时任务</p></blockquote> <h4 id="_6-1-1-概述"><a href="#_6-1-1-概述" class="header-anchor">#</a> 6.1.1 概述</h4> <p><strong>任务调度</strong>：是指系统在某个时间执行特定的命令或程序。</p> <p>任务调度分类：</p> <ul><li><strong>系统工作</strong>：系统周期性所要执行的工作，如病毒扫描</li> <li><strong>个别用户工作</strong>：某个用户定期要做的工作，比如对 MySQL 数据库的备份</li></ul> <h4 id="_6-1-2-基本语法"><a href="#_6-1-2-基本语法" class="header-anchor">#</a> 6.1.2 基本语法</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>crontab [选项]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>-e：使用编辑器来编辑 crontab 定时任务</li> <li>-l：列出目前的时程表</li> <li>-r：删除当前用户的时程表（即删除所有 crontab 任务）</li></ul> <p>重启任务调度： <code>service crond restart</code></p> <h4 id="_6-1-3-快速入门"><a href="#_6-1-3-快速入门" class="header-anchor">#</a> 6.1.3 快速入门</h4> <p>设置任务调度文件：/etc/crontab</p> <p>设置个人任务调度：执行 <code>crontab -e</code> 命令，接着输入任务到调度文件。如输入 <code>*/1 * * * * ls -l /etc/ &gt; /tmp/to.txt</code> 表示每个小时的每分钟执行 <code>ls -l /etc/ &gt; /tmp/to.txt</code> 命令。</p> <h5 id="任务书写格式"><a href="#任务书写格式" class="header-anchor">#</a> 任务书写格式：</h5> <div class="language- line-numbers-mode"><pre class="language-text"><code>f1 f2 f3 f4 f5 program
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>program 处为定时执行的命令</li> <li>f1 ~ f5 为指示时间的占位符，具体可见下面</li></ul> <h5 id="_5-个占位符的说明"><a href="#_5-个占位符的说明" class="header-anchor">#</a> 5 个占位符的说明：</h5> <div class="language-text line-numbers-mode"><pre class="language-text"><code>*    *    *    *    *
-    -    -    -    -
|    |    |    |    |
|    |    |    |    +----- 星期中星期几 (0 - 6) (星期天 为0)
|    |    |    +---------- 月份 (1 - 12) 
|    |    +--------------- 一个月中的第几天 (1 - 31)
|    +-------------------- 小时 (0 - 23)
+------------------------- 分钟 (0 - 59)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="特殊符号的说明"><a href="#特殊符号的说明" class="header-anchor">#</a> 特殊符号的说明</h5> <table><thead><tr><th style="text-align:center;">特殊符号</th> <th>含义</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>*</code></td> <td>代表任何时间，比如第一个 <code>*</code> 就代表一个小时中每分钟执行一次的意思。</td></tr> <tr><td style="text-align:center;"><code>,</code></td> <td>代表不连续的时间，如 <code>0 8,12,16 * * *</code> 命令就代表每天的8点0分、12点0分、16点0分都执行一次命令。</td></tr> <tr><td style="text-align:center;"><code>-</code></td> <td>代表连续的时间范围，如 <code>0 5 * * 1-6</code> 命令就代表周一到周六的凌晨5点0分执行命令</td></tr> <tr><td style="text-align:center;"><code>*/n</code></td> <td>代表每隔多久执行一次，如 <code>*/10 * * * *</code> 就代表每隔 10 分钟就执行一次命令</td></tr></tbody></table> <blockquote><p>案例可见 <a href="https://www.runoob.com/linux/linux-comm-crontab.html" target="_blank" rel="noopener noreferrer">crontab 命令 | 菜鸟教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <blockquote><p>案例：每隔一分钟，将当前日期和日历都追加到 <code>/home/mycal</code> 文件中：（1） <code>vim /home/my.sh</code> ，写入内容： <code>date &gt;&gt; /home/mycal</code> 和 <code>cal &gt;&gt; /home/mycal</code> （2）给 my.sh <strong>增加执行权限</strong>：<code>chmod u+x /home/my.sh</code> （3）<code>crontab -e</code> 增加 <code>*/1 * * * * /home/my.sh</code></p></blockquote> <h3 id="_6-2-at-定时任务"><a href="#_6-2-at-定时任务" class="header-anchor">#</a> 6.2 at 定时任务</h3> <p>crond 是反复执行的任务，而 <strong>at 命令是一次性定时计划任务</strong>，其<strong>守护进程 atd</strong> 会以后台模式运行，检查任务队列来运行。</p> <p>默认情况下，atd 守护进程<strong>每分钟检查一次作业队列</strong>，有作业时会检查其运行时间，若匹配则运行此作业。在使用 at 命令时，一定要保证 atd 进程的启动，可以使用 <code>ps -ef | grep atd</code> 来检测 atd 是否在运行。</p> <ul><li><code>ps -ef | grep atd</code>：查看所有进程并过滤出 atd</li></ul> <img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220801163618590.png" alt="image-20220801163618590" style="zoom:80%;"> <p>如图所示，上面一条表示 atd 进程已经启动，下面一条表示当前查看 atd 是否运行的指令。</p> <blockquote><p>启动 atd 进程：<code>sudo service atd start</code> 或 <code>sudo systemctl start atd</code></p></blockquote> <p>命令格式：<code>at [选项] [时间]</code> ，两次 Ctrl + D 结束 at 命令的输入，Ctrl + Backspace 删除</p> <ul><li>-m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出</li> <li>-I atq的别名</li> <li>-d atrm的别名（删除已经设置的任务，e.g. <code>atrm 4</code> 表示删除 job 队列中编号为4的 job）</li> <li>-v 显示任务将被执行的时间</li> <li>-c 打印任务的内容到标准输出</li> <li>-V 显示版本信息</li> <li><code>-q&lt;列队&gt;</code> 使用指定的列队</li> <li><code>-f&lt;文件&gt;</code> 从指定文件读入任务而不是从标准输入读入</li> <li><code>-t&lt;时间参数&gt;</code> 以时间参数的形式提交要运行的任务</li></ul> <blockquote><p>注： atd 一次只会执行一个任务，从 job 队列中一次检查一个 job 是否该执行了。</p></blockquote> <h4 id="_6-2-1-at-时间定义的方法"><a href="#_6-2-1-at-时间定义的方法" class="header-anchor">#</a> 6.2.1 at 时间定义的方法</h4> <ul><li>接受在当天的 <strong>hh:mm</strong>（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。</li> <li>使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午4点）等比较模糊的 词语来指定时间。</li> <li>采用 12 小时计时制，即在时间后面加上 AM（上午）或 PM（下午）来说明是上午还是下午。</li> <li>指定命令执行的具体日期，指定格式为 month day（月 日）或 mm/dd/yy（月/日/年）或 dd.mm.yy（日.月.年）。指定的日期必须跟在指定时间的后面。</li> <li>使用<strong>相对计时法</strong>，指定格式为：<strong>now + count time-units</strong> ，now 就是当前时间，time-units 是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count 是时间的数量，究竟是几天，还是几小时，等等。比如 <code>now + 5 minutes</code>。</li> <li>直接使用today（今天）、tomorrow（明天）来指定完成命令的时间。</li></ul> <blockquote><p>案例：2 天后的下午 5 点执行 /bin/ls /home</p> <img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220801171045995.png" alt="image-20220801171045995" style="zoom:80%;"></blockquote> <p>先输入 <code>at [选项] [时间]</code> 后回车，再接着输入命令，输入完后按两次 <code>Ctrl D</code> 结束输入</p> <h2 id="_7-磁盘分区、挂载"><a href="#_7-磁盘分区、挂载" class="header-anchor">#</a> 7. 磁盘分区、挂载</h2> <h3 id="_7-1-linux-分区"><a href="#_7-1-linux-分区" class="header-anchor">#</a> 7.1 Linux 分区</h3> <p>🖊 目录只是个目录，目录中的内容在物理上是存放在硬盘的分区中的。</p> <h4 id="_7-1-1-原理介绍"><a href="#_7-1-1-原理介绍" class="header-anchor">#</a> 7.1.1 原理介绍</h4> <p>Linux 来说无论有几个分区，分给哪一目录使用，它归根结底就<strong>只有一个根目录</strong>，一个独立且唯一的文件结构，Linux 中<strong>每个分区都是用来组成整个文件系统的一部分</strong>。</p> <p>Linux 采用了一种叫“<strong>载入</strong>”的处理方法，它的整个文件系统中包含了一整套的文件和目录， 且<strong>将一个分区和一个目录联系起来</strong>。这时要载入的一个分区将使它的存储空间在一个目录下获得。</p> <p>示意图：<img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220801194401321.png" alt="image-20220801194401321" style="zoom:67%;"></p> <h4 id="_7-1-2-硬盘说明"><a href="#_7-1-2-硬盘说明" class="header-anchor">#</a> 7.1.2 硬盘说明</h4> <p>Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘。</p> <ul><li><strong>对于 IDE 硬盘，驱动器标识符为“hdx~”</strong>，“hd”表明分区所在设备的类型，这里是指IDE硬盘。“x”为盘号（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为辅助从属盘），“~”代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始就是逻辑分区。比如 hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区，hdb2 表示为第二个 IDE 硬盘上的第二个主分区或扩展分区。</li> <li><strong>对于 SCSI 硬盘，驱动器标识符为“sdx~”</strong>，SCSI 硬盘是用“sd”来表示分区所在设备的类型，其余则和 IDE 硬盘的表示方法一样。</li></ul> <h4 id="_7-1-3-查看所有设备挂载情况"><a href="#_7-1-3-查看所有设备挂载情况" class="header-anchor">#</a> 7.1.3 查看所有设备挂载情况</h4> <p>命令：<code>lsblk</code> 或者 <code>lsblk -f</code></p> <ul><li>lsblk：英文是“list block”，即用于列出所有可用块设备的信息</li></ul> <img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220801195345187.png" alt="image-20220801195345187" style="zoom:80%;"> <blockquote><p>图中的 sr0 是指光驱。</p></blockquote> <h3 id="_7-2-挂载的经典案例-增加一块硬盘"><a href="#_7-2-挂载的经典案例-增加一块硬盘" class="header-anchor">#</a> 7.2 挂载的经典案例 —— 增加一块硬盘</h3> <p>目标：给 Linux 系统增加一块新的硬盘，并且挂载到 /newdisk</p> <p>主要有以下5个步骤：虚拟机添加硬盘、分区、格式化、挂载、设置可以自动挂载。</p> <h4 id="_1-虚拟机添加硬盘"><a href="#_1-虚拟机添加硬盘" class="header-anchor">#</a> 1）虚拟机添加硬盘</h4> <p>在【虚拟机】菜单中，选择【设置】，然后设备列表里添加硬盘，然后一路【下一步】，中间只有选择磁盘大小的地方需要修改，直到完成。然后重启系统（才能识别）！</p> <h4 id="_2-磁盘分区"><a href="#_2-磁盘分区" class="header-anchor">#</a> 2）磁盘分区</h4> <p>分区命令：<code>fdisk /dev/sdb</code></p> <p>开始对 /sdb 分区：</p> <table><thead><tr><th style="text-align:center;">命令</th> <th style="text-align:left;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;">m</td> <td style="text-align:left;">显示命令列表</td></tr> <tr><td style="text-align:center;">n</td> <td style="text-align:left;">新增分区</td></tr> <tr><td style="text-align:center;">d</td> <td style="text-align:left;">删除分区</td></tr> <tr><td style="text-align:center;">w</td> <td style="text-align:left;">写入并退出</td></tr></tbody></table> <p><strong>做法</strong>：开始分区后输入 n，新增分区，然后选择 p，分区类型为主分区，分区号1-4可选，默认为1，1代表为只为磁盘划分一块分区，2代表为磁盘划分两块分区，依次类推。此次案例选择1。两次回车默认剩余全部空间。最后输入 w 写入分区并退出，若不保存退出输入 q。</p> <h4 id="_3-格式化磁盘"><a href="#_3-格式化磁盘" class="header-anchor">#</a> 3）格式化磁盘</h4> <p>命令：<code>mkfs -t ext4 /dev/sdb1</code></p> <ul><li>其中 ext4 是分区类型</li></ul> <p>格式化之后才会有上图中的 UUID （唯一标识符）给这个分区，此分区才可以使用。</p> <h4 id="_4-挂载"><a href="#_4-挂载" class="header-anchor">#</a> 4）挂载</h4> <p><strong>挂载</strong>: 将一个分区与一个目录联系起来。</p> <p>命令：<code>mount 设备名称 挂载目录</code></p> <ul><li>此次案例为 <code>mount /dev/sdb1 /newdisk</code></li> <li>去除挂载命令为 <code>umount 设备名称或者挂载目录</code>，比如 <code>umount /dev/sdb1</code> 或者 <code>umount /newdisk</code></li></ul> <h4 id="_5-设置自动挂载"><a href="#_5-设置自动挂载" class="header-anchor">#</a> 5）设置自动挂载</h4> <p>用命令行挂载只能实现临时挂载，重启系统后，挂载就会失效。<strong>设置自动挂载，即永久挂载，当重启系统，仍然可以挂载到指定目录</strong>。</p> <p>通过修改 /etc/fstab 文件实现<strong>永久挂载</strong>。</p> <ul><li>此次案例在文件中增加 <code>/dev/sdb1 /newdisk ext4 defaults 0 0</code></li> <li>保存并退出文件后，执行 <code>mount –a</code> 即刻生效</li></ul> <h3 id="_7-3-磁盘情况查询"><a href="#_7-3-磁盘情况查询" class="header-anchor">#</a> 7.3 磁盘情况查询</h3> <h4 id="_7-3-1-查询系统整体磁盘使用情况"><a href="#_7-3-1-查询系统整体磁盘使用情况" class="header-anchor">#</a> 7.3.1 查询系统整体磁盘使用情况</h4> <p>命令：<code>df -h</code></p> <ul><li>df：disk free，显示目前在 Linux 系统上的文件系统磁盘使用情况统计</li> <li>-h：<strong>h</strong>uman readable，使用人类可读的格式(预设值是不加这个选项的</li></ul> <p>可用于查询系统整体磁盘使用情况：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">df</span> <span class="token parameter variable">-h</span>
文件系统                 容量  已用  可用 已用% 挂载点
devtmpfs                 974M     <span class="token number">0</span>  974M    <span class="token number">0</span>% /dev
tmpfs                    991M     <span class="token number">0</span>  991M    <span class="token number">0</span>% /dev/shm
tmpfs                    991M   11M  980M    <span class="token number">2</span>% /run
tmpfs                    991M     <span class="token number">0</span>  991M    <span class="token number">0</span>% /sys/fs/cgroup
/dev/mapper/centos-root   17G  <span class="token number">5</span>.4G   11G   <span class="token number">34</span>% /
/dev/sda1                976M  177M  733M   <span class="token number">20</span>% /boot
vmhgfs-fuse              400G  317G   84G   <span class="token number">80</span>% /mnt/hgfs
tmpfs                    199M   52K  198M    <span class="token number">1</span>% /run/user/1000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>当“已用”超过 80% 后就不正常了，应该想到扩容。</li></ul> <h4 id="_7-3-2-查询指定目录的磁盘占用情况"><a href="#_7-3-2-查询指定目录的磁盘占用情况" class="header-anchor">#</a> 7.3.2 查询指定目录的磁盘占用情况</h4> <p>命令：<code>du -h</code></p> <ul><li>du：disk usage，显示指定的目录或文件所占用的磁盘空间，默认是当前目录。</li> <li>-s：指定目录占用大小汇总</li> <li>-h：带计量单位</li> <li>-a：含文件</li> <li>--max-depth=1：子目录深度为1</li> <li>-c：列出明细的同时，增加汇总值</li></ul> <blockquote><p>案例：查看 /opt 目录的磁盘占用情况，深度为 1</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">du</span> <span class="token parameter variable">-hac</span> --max-depth<span class="token operator">=</span><span class="token number">1</span> /opt
163M	/opt/vmware-tools-distrib
<span class="token number">4</span>.0K	/opt/rh
54M	    /opt/VMwareTools-10.3.10-13959562.tar.gz
216M	/opt
216M	总用量
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></blockquote> <h3 id="_7-4-磁盘情况-工作实用指令"><a href="#_7-4-磁盘情况-工作实用指令" class="header-anchor">#</a> 7.4 磁盘情况 - 工作实用指令</h3> <h4 id="_1-统计-opt-文件夹下文件的个数"><a href="#_1-统计-opt-文件夹下文件的个数" class="header-anchor">#</a> 1）统计 /opt 文件夹下文件的个数</h4> <p>ls -l /opt | grep &quot;^-&quot; | wc -l</p> <h4 id="_2-统计-opt-文件夹下目录的个数"><a href="#_2-统计-opt-文件夹下目录的个数" class="header-anchor">#</a> 2）统计 /opt 文件夹下目录的个数</h4> <p>ls -l /opt | grep &quot;^d&quot; | wc -l</p> <h4 id="_3-统计-opt-文件夹下文件的个数-包括子文件夹下的"><a href="#_3-统计-opt-文件夹下文件的个数-包括子文件夹下的" class="header-anchor">#</a> 3）统计 /opt 文件夹下文件的个数，包括子文件夹下的</h4> <p>ls -lR /opt | grep &quot;^-&quot; | wc -l</p> <h4 id="_4-统计-opt-文件夹下目录的个数-包括子文件夹下的"><a href="#_4-统计-opt-文件夹下目录的个数-包括子文件夹下的" class="header-anchor">#</a> 4）统计 /opt 文件夹下目录的个数，包括子文件夹下的</h4> <p>ls -lR /opt | grep &quot;^d&quot; | wc -l</p> <h4 id="_5-以树状显示目录结构"><a href="#_5-以树状显示目录结构" class="header-anchor">#</a> 5）以树状显示目录结构</h4> <p>yum install tree 后 <code>tree 指定目录</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ tree <span class="token builtin class-name">.</span>
<span class="token builtin class-name">.</span>
├── aaa
│   └── abc.txt
├── bar.txt
├── foo.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>补充：<strong>wc 命令</strong></p> <p>wc（Word Count）命令的功能为统计指定文件中的字节数、字数、行数，并将统计结果显示输出。</p> <p>命令：<code>wc [选项] [文件]</code></p> <ul><li>-c：统计字节数</li> <li>-l：统计行数</li> <li>-m：统计字符数，这个选项不能与 -c 一起使用</li> <li>-w：统计字数，一个字被定义为由空白、跳格或换行字符分隔的字符串</li> <li>-L：统计最长行的长度</li></ul></blockquote></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/n7301/blog/edit/master/docs/基础/10.Linux/05.韩顺平2021课程笔记/10.Linux实操篇（上）.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/08/01, 12:48:16</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blog/pages/c774f5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux 基础篇</div></a> <a href="/blog/pages/16468e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Linux实操篇（下）</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/pages/c774f5/" class="prev">Linux 基础篇</a></span> <span class="next"><a href="/blog/pages/16468e/">Linux实操篇（下）</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/c0d84b/"><div>
            YAML、Pod、Job、CronJob、ConfigMap、Secret
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/757154/"><div>
            Kubernetes 的安装与基本架构
            <!----></div></a> <span class="date">06-04</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/1cc8db/"><div>
            初识容器
            <!----></div></a> <span class="date">05-30</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Nrich-sunny" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>Nrich | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/blog/assets/js/app.73302609.js" defer></script><script src="/blog/assets/js/2.c02cd514.js" defer></script><script src="/blog/assets/js/49.72f6d0a1.js" defer></script>
  </body>
</html>
