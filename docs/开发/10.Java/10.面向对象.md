---
title: 面向对象
date: 2022-03-28 16:39:56
permalink: /pages/017edb/
categories:
  - 开发
  - Java
tags:
  - 
---
# 1. 模板方法模式

## 1.1 抽象类

如果一个类中的某个方法的具体实现不能确定，就可以申明成abstract修饰的抽象方法（不能写方法体了），这个类必须用abstract修饰，被称为抽象类。

![image-20220328164447274](https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220328164447274.png)

**抽象的使用总结与注意事项：**

- 抽象类可以理解成类的不完整设计图，是用来被子类继承的。
- 一个类如果继承了抽象类，那么这个类必须重写完抽象类的全部抽象方法，否则这个类也必须定义成抽象类。
- 抽象类没有创建对象的能力。
- 抽象类中不一定有抽象方法，有抽象方法的类一定是抽象类



## 1.2 模板方法

**模板方法模式实现步骤：**

- 把功能定义成一个所谓的模板方法，放在抽象类中，模板方法中只定义通用且能确定的代码。
- 模板方法中不能决定的功能定义成抽象方法让具体子类去实现。

::: tip
模板方法我们是建议使用final修饰的,模板方法是给子类直接使用的，不是让子类重写的，
一旦子类重写了模板方法就失效了。
:::


例如，中学生和小学生写《我的爸爸》这篇作文，他俩除了文章主体部分不同，别的地方都一样，此时，可以定义一个抽象类，用一个公共的**模板方法**来实现相同的部分，不同的部分在这个抽象类中声明一个**抽象方法**，让子类在此处来实现他们分别的功能。如下图代码所示：

![image-20220328170749055](https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220328170749055.png)

## 2. 接口

### 2.1 基本知识

接口体现了一种规范，约束类一定要干啥事。规范一定是公开的。
JDK 8 之前接口中只能有抽象方法和常量。

关键字：`interface`
接口的实现：`implements 接口1,接口2,...`

**几种关系：**
类和类的关系：单继承。
类和接口的关系：多实现。
接口和接口的关系：多继承，一个接口可以同时继承多个接口。

**接口多继承的作用:**
规范合并，整合多个接口为同一个接口，便于子类实现。（子类只需要implements一个接口就可以了，不用很累赘地实现很多个接口）

### 2.2 接口新增的方法

**JDK8开始后新增了那些方法 ?**

- 默认方法：default修饰，实现类对象调用。
- 静态方法：static修饰，必须用当前接口名调用。<u>不能用子类调用静态方法。</u>
- 私有方法：private修饰，jdk9开始才有的，只能在接口内部被调用。
- 他们都会默认被public修饰。

::: warning

JDK8新增的3种方法我们自己在开发中很少使用，通常是Java源码涉及到的，我们需要理解、识别语法、明白调用关系即可。

:::

:::tip

切换模块的编译版本，选择JDK版本：`File -> Project Structure -> Modules ->language level`

![image-20220328195212510](https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/image-20220328195212510.png)

:::

### 2.3 使用接口的注意事项（面试中涉及）

比较偏的一些语法，实际开发中通常不用，只有在一些面试中可能会涉及。

1. 接口不能创建对象
2. 一个类实现多个接口，多个接口中有同样的静态方法不冲突。
3. 一个类继承了父类，同时又实现了接口，父类中和接口中有同名方法，默认用父类的。
   继承只能在实现之前写，即<u>先有亲爸再有干爹</u>。<u>接口为干爹，继承为亲爸</u>。
   <img src="C:\Users\Nrich\AppData\Roaming\Typora\typora-user-images\image-20220328200737543.png" alt="image-20220328200737543" style="zoom: 80%;" />
4. 一个类实现了多个接口，多个接口中存在同名的默认方法，不冲突，这个类重写该方法即可。
5. 一个接口继承多个接口，是没有问题的，即使多个接口中有重名的方法，但如果多个接口中存在规范冲突则不能多继承。